(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){"use strict";var a=n(207),r=n(3),l=n(2);l(t,"__esModule",{value:!0}),l(t,"getEmptyImage",{enumerable:!0,get:function(){return i.getEmptyImage}}),l(t,"Provider",{enumerable:!0,get:function(){return o.default}}),l(t,"DropContainer",{enumerable:!0,get:function(){return u.default}}),l(t,"DropItem",{enumerable:!0,get:function(){return d.default}}),l(t,"WidgetItem",{enumerable:!0,get:function(){return c.default}}),l(t,"DragLayer",{enumerable:!0,get:function(){return f.default}}),l(t,"useModel",{enumerable:!0,get:function(){return s.useModel}}),l(t,"DropEmptyContainer",{enumerable:!0,get:function(){return m.default}}),l(t,"ModelContext",{enumerable:!0,get:function(){return v.default}}),t.constants=t.default=void 0;var i=n(141),o=r(n(208)),u=r(n(319)),d=r(n(320)),c=r(n(321)),f=r(n(322)),s=n(323),m=r(n(324)),p=a(n(50));t.constants=p;var v=r(n(24)),g={useModel:s.useModel,constants:p,ModelContext:v.default,Provider:o.default,WidgetItem:c.default,DropContainer:u.default,DropItem:d.default,DragLayer:f.default,getEmptyImage:i.getEmptyImage,DropEmptyContainer:m.default};t.default=g},138:function(e,t,n){"use strict";function a(e,t,n,a,r,l){var i=((t+a)*r-t*r+t*(e+n)-(t+a)*e)/(e+n-e),o=(t*r-(t+a)*r+(t+a)*(e+n)-t*e)/(e+n-e);if(l<i&&l<o)return 1;if(l>i&&l>o)return 2;if(l>i&&l<o)return 3;if(l<i&&l>o)return 4;var u=e+n/2,d=t+a/2;return r>u&&l<d?1:r>u&&l>d?2:r<u&&l<d?1:r<u&&l>d?2:-1}n(2)(t,"__esModule",{value:!0}),t.getRectDirection=a,t.isBeforeRect=function(){var e=a.apply(void 0,arguments);return 1===e||3===e},t.getHoverDirection=function(){var e=a.apply(void 0,arguments),t="down";1===e?t="up":2===e?t="down":3===e?t="left":4===e&&(t="right");return t},t.isNodeInDocument=function(e){return document.body.contains(e)}},145:function(e,t,n){n(146),e.exports=n(167)},167:function(e,t,n){"use strict";var a=n(3),r=a(n(0)),l=a(n(44)),i=a(n(172));l.default.render(r.default.createElement(i.default,null),document.getElementById("root"))},172:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=n(347),i=a(n(179)),o=a(n(333)),u=a(n(334)),d=a(n(335)),c=a(n(336)),f=a(n(337)),s=a(n(342));n(346);t.default=function(){return r.default.createElement(l.HashRouter,null,r.default.createElement("div",{className:"app-demo"},r.default.createElement("div",{className:"left-nav"},r.default.createElement(l.NavLink,{to:"/basic"},"基本功能"),r.default.createElement(l.NavLink,{to:"/sort-list"},"列表排序"),r.default.createElement(l.NavLink,{to:"/sort-list-animation"},"列表排序(动画效果)"),r.default.createElement(l.NavLink,{to:"/drag-layer"},"自定义推拽层"),r.default.createElement(l.NavLink,{to:"/todo-list"},"TodoList"),r.default.createElement(l.NavLink,{to:"/pivot-table-01"},"多维分析"),r.default.createElement(l.NavLink,{to:"/pivot-table-02"},"数据透视")),r.default.createElement("div",{className:"container"},r.default.createElement(l.Switch,null,r.default.createElement(l.Route,{path:"/",exact:!0,render:function(){return r.default.createElement(l.Redirect,{to:"/basic"})}}),r.default.createElement(l.Route,{path:"/basic",component:i.default}),r.default.createElement(l.Route,{path:"/sort-list",component:o.default}),r.default.createElement(l.Route,{path:"/todo-list",component:c.default}),r.default.createElement(l.Route,{path:"/sort-list-animation",component:u.default}),r.default.createElement(l.Route,{path:"/drag-layer",component:d.default}),r.default.createElement(l.Route,{path:"/pivot-table-01",component:f.default}),r.default.createElement(l.Route,{path:"/pivot-table-02",component:s.default})))))}},179:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=function(){var e=i.default.useState({items:[]}),t=(0,l.default)(e,2),n=t[0],a=t[1];return i.default.createElement(c.Provider,{value:n.items,onChange:function(e){a({items:e})},onDragStart:function(e){console.log("onDragStart",e)},onDragEnd:function(e){console.log("onDragEnd",e)},onDrop:function(e){console.log("onDrop",e)}},i.default.createElement("div",{style:{display:"flex",height:"100%"}},i.default.createElement("div",{style:{width:240,flex:"none"}},f.default.map(function(e){return i.default.createElement(c.WidgetItem,{key:e.xtype,getInstance:function(){return(0,r.default)({},e,{id:Math.random().toString(16).slice(2,8),pid:null,index:s++})}},function(t){var n=t.connectDragTarget;return i.default.createElement("div",{ref:n,style:{height:32,lineHeight:"32px",padding:"0 20px"}},e.title)})})),i.default.createElement(u.default,{title:"A"}),i.default.createElement(u.default,{pid:"b",title:"B"}),i.default.createElement(o.default,null),i.default.createElement(d.default,{title:"Parent"}),i.default.createElement(u.default,{pid:"d",title:"D",canDrop:function(e){return"EX_TEXTAREA_FIELD"===e.xtype}}),i.default.createElement(m,null)))};var r=a(n(14)),l=a(n(8)),i=a(n(0)),o=a(n(196)),u=a(n(325)),d=a(n(326)),c=n(11),f=a(n(327));var s=1;function m(){return i.default.createElement(c.DragLayer,null,function(e){return e.isDragging?i.default.createElement("div",{style:{padding:5,background:"rgba(0,0,0,.2)",position:"fixed",top:0,right:0}},"dragLayer: isDragging..."):null})}},196:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=function(){return l.default.createElement(i.DropContainer,{pid:"Animate"},function(e){var t=e.items,n=(e.monitor,e.canDrop),a=e.connectDropTarget,o=(0,r.default)(t);return o.sort(function(e,t){return e.index-t.index}),l.default.createElement("div",{ref:a,style:{position:"relative",border:n?"1px solid green":"1px solid #ccc",flex:1}},l.default.createElement("h3",null,"Animate"),l.default.createElement("hr",null),l.default.createElement("div",{style:{position:"relative"}},l.default.createElement("div",{style:{position:"relative"}},o.map(function(e,n){var a=function(e){for(var n=0;n<t.length;n++){var a=t[n];if(a.index===e)return n}}(e.index);return l.default.createElement(i.DropItem,{key:e.id,item:e},function(t){var n=t.connectDragAndDrop,r=t.isDragging,i=(t.isHover,t.isOver);t.isTmp;return l.default.createElement("div",{ref:n,key:e.id,id:e.id,style:{transition:"transform .2s cubic-bezier(0.2, 0, 0, 1)",position:"absolute",left:5,right:5,transform:"translate(0, ".concat(48*a,"px)"),zIndex:r?2:1,opacity:r?.5:1,padding:10,background:"#f2f2f2",border:i&&!r?"1px solid green":"1px solid #dadada"}},e.title,"(",e.id,")")})}))))})};var r=a(n(45)),l=a(n(0)),i=n(11)},208:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(46)),l=a(n(47)),i=a(n(31)),o=a(n(32)),u=a(n(33)),d=a(n(34)),c=a(n(23)),f=a(n(35)),s=a(n(22)),m=a(n(0)),p=a(n(141)),v=n(37),g=a(n(232)),D=function(e){function t(){var e,n;(0,i.default)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(r))),(0,s.default)((0,c.default)(n),"model",null),(0,s.default)((0,c.default)(n),"saveModel",function(e){n.model=e}),n}return(0,f.default)(t,e),(0,o.default)(t,[{key:"getModel",value:function(){return this.model}},{key:"render",value:function(){var e=this.props,t=e.backend,n=(0,l.default)(e,["backend"]);return m.default.createElement(v.DndProvider,{backend:t},m.default.createElement(g.default,(0,r.default)({},n,{ref:this.saveModel})))}}]),t}(m.default.Component);t.default=D,(0,s.default)(D,"defaultProps",{backend:p.default})},232:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(117)),l=a(n(45)),i=a(n(31)),o=a(n(32)),u=a(n(33)),d=a(n(34)),c=a(n(23)),f=a(n(35)),s=a(n(22)),m=a(n(0)),p=a(n(16)),v=a(n(233)),g=a(n(318)),D=a(n(137)),h=a(n(24)),y=a(n(64)),E=n(50);function _(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.random().toString(16).slice(2,8)}function I(e,t){var n=t.idField,a=t.pidField;return e[n]=void 0===e[n]?_("item_"):e[n],e[a]=void 0===e[a]?null:e[a],e}var T=function(e){function t(){var e,n;(0,i.default)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(r))),(0,s.default)((0,c.default)(n),"DropContainerContext",m.default.createContext({isRootContainer:!0,axis:E.AXIS_VERTICAL})),(0,s.default)((0,c.default)(n),"state",{scope:_("scope_"),items:n.props.defaultValue||[]}),n}return(0,f.default)(t,e),(0,o.default)(t,[{key:"getDragState",value:function(){return y.default.getState()}},{key:"onChange",value:function(e){var t=this.props,n=t.onChange;"value"in t||this.setState({items:e}),n&&n(e)}},{key:"getScope",value:function(){return this.state.scope}},{key:"fireEvent",value:function(e,t){var n=this.props,a={onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDrop:n.onDrop}[e];a&&a(t)}},{key:"getItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.pidField;return this.getAllItems().filter(function(n){return n&&n[t]==e})}},{key:"getChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.items,n=this.props.pidField;return t.filter(function(t){return t&&t[n]==e})}},{key:"getAllItems",value:function(){return(0,l.default)(this.state.items)}},{key:"getPids",value:function(e){var t=this.props,n=t.idField,a=t.pidField,r=[],l=this.getItem(e);if(!l)return r;if(!l[a])return r;for(var i,o=l[a];(i=this.getItem(o))&&(r.push(i[n]),o=i[a]););return r}},{key:"updateItem",value:function(e){var t=this.props.idField,n=this.getAllItems(),a=e[t],r=this.getItemIndex(a);-1!==r&&(n[r]=e),this.onChange(n)}},{key:"isSameItem",value:function(e,t){var n=this.props.idField;return e&&t&&e[n]===t[n]}},{key:"_addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props.pidField;(e=I(e,this.props))[n]=t,this.state.items.push(e)}},{key:"addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props.pidField;e=I(e,this.props);var a=this.getAllItems();e[n]=t,a.push(e),this.onChange(a)}},{key:"addTmpItem",value:function(e,t){e.__tmp__=!0,this.addItem(e,t)}},{key:"removeItem",value:function(e){var t=this,n=this.props.idField,a=this.getAllItems().filter(function(a){var r=a[n]===e;r||(r=t.getPids(a[n]).indexOf(e)>-1);return!r});this.onChange(a)}},{key:"getItemIndex",value:function(e,t){var n=this.props.idField;return t=t||this.getAllItems(),(0,D.default)(t,function(t){return t[n]===e})}},{key:"getItem",value:function(e){var t=this.props.idField,n=this.getAllItems();return(0,v.default)(n,function(n){return n&&n[t]===e})}},{key:"insertBefore",value:function(e,t){if(!this.isSameItem(e,t)){var n=this.props,a=n.idField,r=n.pidField,l=this.getAllItems(),i=t[a],o=this.getItemIndex(i);if(0!==o){var u=l[o-1];if(u[a]===e[a]&&u[r]===t[r])return}var d=this.getItemIndex(e[a]);d>-1&&l.splice(d,1),e[r]=t[r];var c=this.getItemIndex(i,l);l.splice(c,0,e),this.onChange(l)}}},{key:"insertAfter",value:function(e,t){if(!this.isSameItem(e,t)){var n=this.props,a=n.idField,r=n.pidField,l=this.getAllItems(),i=t[a],o=this.getItemIndex(i);if(o!==l.length-1){var u=l[o+1];if(u[a]===e[a]&&u[r]===t[r])return}var d=this.getItemIndex(e[a]);d>-1&&l.splice(d,1),e[r]=t[r];var c=(0,D.default)(l,function(e){return e[a]===i});l.splice(c,1,l[c],e),this.onChange(l)}}},{key:"clearTmpItems",value:function(){var e=this.getAllItems(),t=!1,n=e.filter(function(e){var n=e.__tmp__;return n&&(t=!0),!n});t&&this.onChange(n)}},{key:"updateItemPid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props,a=n.idField,r=n.pidField,l=e[a],i=this.getItemIndex(l);if(e[r]===t)return!0;var o=null==t?[]:this.getPids(t);if(o.length&&-1!==o.indexOf(l))return!1;if(t){var u=this.getItemIndex(t),d=this.getChildren(t);if(d.length){var c=d[0],f=d[d.length-1];return i>u?this.insertAfter(e,f):this.insertBefore(e,c),!0}}return-1!==i&&(e[r]=t),this.onChange(this.getAllItems()),!0}},{key:"commitItem",value:function(e){var t=this.props.idField,n=this.getAllItems(),a=e[t],r=this.getItemIndex(a);-1!==r&&e.__tmp__&&(e.__tmp__=!1,delete e.__tmp__,n[r]=e,this.onChange(n))}},{key:"commitDragStateItem",value:function(){var e=this,t=y.default.getState(),n=t.canDrop,a=t.item,r=t.hoverPid,l=t.hoverItem,i=t.hoverDirection,o=t.isDragging,u=t.isNew;if(o&&n){y.default.reset();var d=function(){i===E.DRAG_DIR_UP||i===E.DRAG_DIR_LEFT?e.insertBefore(a,l):e.insertAfter(a,l)};if(u)l?(this._addItem(a,void 0,!1),d()):this.addItem(a,r);else if(l)d();else{var c=this.getItems(r);(0,v.default)(c,function(t){return e.isSameItem(t,a)})||(c.length?this.insertAfter(a,(0,g.default)(c)):this.updateItemPid(a,r))}}}},{key:"isTmpItem",value:function(e){return!!e.__tmp__}},{key:"getModel",value:function(){return(0,r.default)(this)}},{key:"render",value:function(){var e=this.props.children;return m.default.createElement(h.default.Provider,{value:this.getModel()},e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value&&e.value.forEach(function(t){return I(t,e)}),{items:"value"in e?e.value:t.items}}}]),t}(m.default.Component);t.default=T,(0,s.default)(T,"propTypes",{value:p.default.array,defaultValue:p.default.array,axis:p.default.oneOf([E.AXIS_BOTH,E.AXIS_HORIZONTAL,E.AXIS_VERTICAL]),commitAction:p.default.oneOf([E.COMMIT_ACTION_AUTO,E.COMMIT_ACTION_DROP]),onChange:p.default.func,onDragStart:p.default.func,onDragEnd:p.default.func,onDrop:p.default.func,onDragHoverContainer:p.default.func,onDragHoverItem:p.default.func}),(0,s.default)(T,"defaultProps",{idField:"id",pidField:"pid",axis:E.AXIS_VERTICAL,commitAction:E.COMMIT_ACTION_AUTO,onChange:null})},24:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)).default.createContext({});t.default=r},319:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(8)),l=a(n(14)),i=a(n(31)),o=a(n(32)),u=a(n(33)),d=a(n(34)),c=a(n(23)),f=a(n(35)),s=a(n(22)),m=a(n(0)),p=n(44),v=n(37),g=a(n(16)),D=a(n(65)),h=a(n(1)),y=n(50),E=a(n(24)),_=a(n(64)),I=function(e){function t(){var e,n;(0,i.default)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(r))),(0,s.default)((0,c.default)(n),"_connectDropTarget",null),n}return(0,f.default)(t,e),(0,o.default)(t,[{key:"connectDropTarget",value:function(){var e=this.props.children;if(e&&"function"!=typeof e){var t=(0,p.findDOMNode)(this);this._connectDropTarget(t)}}},{key:"componentDidMount",value:function(){this.connectDropTarget()}},{key:"componentDidUpdate",value:function(){this.connectDropTarget()}},{key:"componentWillUnmount",value:function(){this._connectDropTarget(null)}},{key:"getDropOptions",value:function(){var e=this,t=this.props,n=t.pid,a=void 0===n?null:n,r=t.hover,i=t.canDrop,o=t.drop,u=t.collect,d=(0,p.findDOMNode)(this),c=this.context,f=c.props.commitAction;return{accept:c.getScope(),canDrop:function(t,n){return!i||i((0,l.default)({},t,{component:e,monitor:n,model:c}))},hover:function(t,n){var i=n.canDrop();r&&r((0,l.default)({},t,{component:e,monitor:n,model:c})),n.isOver({shallow:!0})&&(_.default.setState({canDrop:n.canDrop(),hoverPid:a,hoverItem:void 0,hoverDirection:y.DRAG_DIR_NONE}),i&&f===y.COMMIT_ACTION_AUTO&&c.updateItemPid(t.item,a),c.fireEvent("onDragHoverContainer",(0,l.default)({target:a,targetDOM:d,monitor:n,component:e,model:c},t)))},drop:function(t,n){if(o&&o((0,l.default)({},t,{component:e,monitor:n,model:c})),!n.didDrop()){f===y.COMMIT_ACTION_AUTO?c.commitItem(t.item):f===y.COMMIT_ACTION_DROP&&c.commitDragStateItem();var r=_.default.getState().isNew;c.fireEvent("onDrop",(0,l.default)({target:a,targetDOM:d,type:r?y.EVENT_TYPE_ADD:y.EVENT_TYPE_SORT,monitor:n,component:e,model:c},t))}},collect:function(e){var t=u?u(e):{};return(0,l.default)({monitor:e,canDrop:e.canDrop(),isOver:e.isOver(),isStrictlyOver:e.isOver({shallow:!0})},t)}}}},{key:"render",value:function(){var e=this.props,t=e.pid,n=void 0===t?null:t,a=e.children,i=e.render,o=e.axis,u=this.context,d=u.DropContainerContext,c=m.default.useContext(d).isRootContainer;(0,h.default)(!!c||null!=n,"sub DropContainer props.pid miss.");var f=(0,v.useDrop)(this.getDropOptions()),s=(0,r.default)(f,2),p=s[0],g=s[1],D=u.getItems(n);p.isStrictlyOver||(D=D.filter(function(e){return!u.isTmpItem(e)})),this._connectDropTarget=g;var y=(0,l.default)({},p,{model:u,connectDropTarget:g,items:D}),E=a?"function"==typeof a?a(y):a:i?i(y):null;return m.default.createElement(d.Provider,{value:{isRootContainer:!1,axis:o}},E)}}]),t}(m.default.Component);(0,s.default)(I,"contextType",E.default),(0,s.default)(I,"propTypes",{children:g.default.oneOfType([g.default.func,g.default.node]),axis:g.default.oneOf([y.AXIS_BOTH,y.AXIS_HORIZONTAL,y.AXIS_VERTICAL]),render:g.default.func,pid:g.default.any,collect:g.default.func,canDrop:g.default.func,hover:g.default.func,drop:g.default.func}),(0,s.default)(I,"defaultProps",{pid:null});var T=(0,D.default)(I);t.default=T},320:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(8)),l=a(n(14)),i=a(n(31)),o=a(n(32)),u=a(n(33)),d=a(n(34)),c=a(n(23)),f=a(n(35)),s=a(n(22)),m=a(n(0)),p=n(44),v=a(n(16)),g=a(n(65)),D=n(37),h=n(50),y=a(n(24)),E=n(138),_=a(n(64)),I=function(e){function t(){var e,n;(0,i.default)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(r))),(0,s.default)((0,c.default)(n),"_lastHoverDirection",h.DRAG_DIR_NONE),(0,s.default)((0,c.default)(n),"_connectDragDOM",null),(0,s.default)((0,c.default)(n),"_connectDropTarget",null),(0,s.default)((0,c.default)(n),"_connectDragTarget",null),(0,s.default)((0,c.default)(n),"_connectDragPreview",null),n}return(0,f.default)(t,e),(0,o.default)(t,[{key:"getHoverDirection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,p.findDOMNode)(this),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.AXIS_VERTICAL,a=t.getBoundingClientRect(),r=e.getClientOffset(),l=~~(a.right-a.width/2),i=~~(a.bottom-a.height/2),o=!1;switch(n){case h.AXIS_VERTICAL:o=r.y<=i?h.DRAG_DIR_UP:h.DRAG_DIR_DOWN;break;case h.AXIS_HORIZONTAL:o=r.x<=l?h.DRAG_DIR_LEFT:h.DRAG_DIR_RIGHT;break;case h.AXIS_BOTH:o=(0,E.getHoverDirection)(a.left,a.top,a.width,a.height,r.x,r.y);break;default:o=r.y<=i?h.DRAG_DIR_UP:h.DRAG_DIR_DOWN}return o}},{key:"getDropOptions",value:function(){var e=this,t=this.props,n=t.item,a=t.axis,r=t.canDrop,i=t.hover,o=t.drop,u=(0,p.findDOMNode)(this),d=this.context,c=d.DropContainerContext,f=m.default.useContext(c).axis,s=d.props,v=s.commitAction,g=s.axis;return a=a||f||g,{accept:d.getScope(),canDrop:function(t,a){var i=t.item,o=!d.isTmpItem(n)&&!d.isSameItem(n,i);return o&&r&&(o=r((0,l.default)({},t,{component:e,monitor:a,model:d}))),o},hover:function(t,r){var o=r.canDrop();if(i&&i((0,l.default)({},t,{component:e,monitor:r,model:d})),r.isOver({shallow:!0})){var c=t.item,f=e.getHoverDirection(r,u,a),s=e._lastHoverDirection;e._lastHoverDirection=f,_.default.setState({canDrop:o,hoverPid:void 0,hoverItem:n,hoverDirection:f}),o&&(f!==s&&e.forceUpdate(),v===h.COMMIT_ACTION_AUTO&&(f===h.DRAG_DIR_UP||f===h.DRAG_DIR_LEFT?d.insertBefore(c,n):d.insertAfter(c,n))),d.fireEvent("onDragHoverItem",(0,l.default)({target:n,targetDOM:u,monitor:r,component:e,model:d},t))}},drop:function(t,a){if(o&&o((0,l.default)({},t,{component:e,monitor:a,model:d})),!a.didDrop()){v===h.COMMIT_ACTION_AUTO?d.commitItem(t.item):v===h.COMMIT_ACTION_DROP&&d.commitDragStateItem();var r=_.default.getState().isNew;d.fireEvent("onDrop",(0,l.default)({target:n,targetDOM:u,type:r?h.EVENT_TYPE_ADD:h.EVENT_TYPE_SORT,monitor:a,component:e,model:d},t))}},collect:function(e){return{monitor:e,hoverDirection:h.DRAG_DIR_NONE,isOver:e.isOver(),isStrictlyOver:e.isOver({shallow:!0}),canDrop:!d.isTmpItem(n)&&e.canDrop()}}}}},{key:"getDragOptions",value:function(){var e=this,t=this.props,n=t.item,a=t.canDrag,r=t.beginDrag,i=t.endDrag,o=this.context;return{item:{type:o.getScope()},canDrag:function(t){return!a||a({component:e,monitor:t,model:o})},begin:function(t){var a=(0,p.findDOMNode)(e),l=e._connectDragDOM;return r&&r({item:n,dom:a,component:e,monitor:t,model:o}),_.default.setState({item:n,isNew:!1,dragDOMIsRemove:!1,isDragging:!0,dragDOM:l}),o.fireEvent("onDragStart",{item:n,dom:a,type:h.EVENT_TYPE_SORT,model:o,monitor:t,component:e}),{item:n,dom:a}},end:function(t,n){var a=_.default.getState(),r=a.dragDOMIsRemove,u=a.dragDOM;_.default.reset(),r&&u&&u.parentNode&&u.parentNode.removeChild(u),i&&i((0,l.default)({},t,{model:o,monitor:n,component:e})),o.fireEvent("onDragEnd",(0,l.default)({},t,{type:h.EVENT_TYPE_SORT,model:o,monitor:n,component:e}))},collect:function(e){var t=e.getItem();return{isDragging:t&&o.isSameItem(t.item,n)}}}}},{key:"componentDidUpdate",value:function(){this.connectDragAndDrop()}},{key:"componentDidMount",value:function(){this.connectDragAndDrop()}},{key:"connectDragAndDrop",value:function(){var e=this.props.children;if(e&&"function"!=typeof e){var t=(0,p.findDOMNode)(this);this._connectDropTarget(t),this._connectDragTarget(t)}}},{key:"componentWillUnmount",value:function(){var e=this._connectDragDOM,t=_.default.getState();t.isDragging&&e&&t.dragDOM===e&&(_.default.setState({dragDOMIsRemove:!0}),setTimeout(function(){(0,E.isNodeInDocument)(e)||(e.style.display="none",e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",document.body.appendChild(e))},0)),this._connectDropTarget(null),this._connectDragTarget(null),this._connectDragPreview(null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.render,i=t.item,o=this.context,u=(0,D.useDrop)(this.getDropOptions()),d=(0,r.default)(u,2),c=d[0],f=d[1],s=(0,D.useDrag)(this.getDragOptions()),p=(0,r.default)(s,3),v=p[0],g=p[1],y=p[2];this._connectDropTarget=f,this._connectDragTarget=m.default.useCallback(function(t){e._connectDragDOM=t,g(t)},[g]),this._connectDragPreview=y;var E=(0,l.default)({},c,v,{item:i,isTmp:o.isTmpItem(i),model:o,connectDropTarget:f,connectDragTarget:g,connectDragAndDrop:function(t){e._connectDropTarget(t),e._connectDragTarget(t)},connectDragPreview:y}),_=E.isStrictlyOver,I=E.isDragging,T=E.canDrop;return E.hoverDirection=_&&!I&&T?this._lastHoverDirection:h.DRAG_DIR_NONE,n?"function"==typeof n?n(E):n:a?a(E):null}}]),t}(m.default.Component);(0,s.default)(I,"contextType",y.default),(0,s.default)(I,"propTypes",{children:v.default.oneOfType([v.default.func,v.default.node]),render:v.default.func,item:v.default.object.isRequired,axis:v.default.oneOf([h.AXIS_BOTH,h.AXIS_HORIZONTAL,h.AXIS_VERTICAL]),canDrop:v.default.func,hover:v.default.func,canDrag:v.default.func,beginDrag:v.default.func,endDrag:v.default.func});var T=(0,g.default)(I);t.default=T},321:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(8)),l=a(n(14)),i=a(n(31)),o=a(n(32)),u=a(n(33)),d=a(n(34)),c=a(n(23)),f=a(n(35)),s=a(n(22)),m=a(n(0)),p=n(44),v=a(n(16)),g=n(37),D=a(n(65)),h=a(n(24)),y=n(50),E=n(138),_=a(n(64)),I=function(e){function t(){var e,n;(0,i.default)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(r))),(0,s.default)((0,c.default)(n),"_connectDragDOM",null),(0,s.default)((0,c.default)(n),"_connectDragTarget",null),(0,s.default)((0,c.default)(n),"_connectDragPreview",null),n}return(0,f.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){this.connectDragTarget()}},{key:"componentDidMount",value:function(){this.connectDragTarget()}},{key:"connectDragTarget",value:function(){var e=this.props.children;e&&"function"!=typeof e&&this._connectDragTarget((0,p.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){var e=this._connectDragDOM,t=_.default.getState();t.isDragging&&e&&t.dragDOM===e&&(_.default.setState({dragDOMIsRemove:!0}),setTimeout(function(){(0,E.isNodeInDocument)(e)||(e.style.display="none",e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",document.body.appendChild(e))},0)),this._connectDragTarget(null),this._connectDragPreview(null)}},{key:"getDragOptions",value:function(){var e=this,t=this.props,n=t.getInstance,a=t.canDrag,r=t.beginDrag,i=t.endDrag,o=this.context,u=o.props.commitAction;return{item:{type:o.getScope()},canDrag:function(t){return!a||a({monitor:t,model:o,component:e})},begin:function(t){var a=n(),l=(0,p.findDOMNode)(e);r&&r({item:a,dom:l,component:e,monitor:t,model:o});var i=e._connectDragDOM;return _.default.setState({item:a,isNew:!0,dragDOMIsRemove:!1,isDragging:!0,dragDOM:i}),u===y.COMMIT_ACTION_AUTO&&o.addTmpItem(a),o.fireEvent("onDragStart",{item:a,dom:l,type:y.EVENT_TYPE_ADD,model:o,monitor:t,component:e}),{item:a,dom:l}},end:function(t,n){var a=_.default.getState(),r=a.dragDOMIsRemove,u=a.dragDOM;_.default.reset(),r&&u&&u.parentNode&&u.parentNode.removeChild(u),i&&i((0,l.default)({},t,{model:o,monitor:n,component:e})),o.clearTmpItems(),o.fireEvent("onDragEnd",(0,l.default)({},t,{type:y.EVENT_TYPE_ADD,model:o,monitor:n,component:e}))},collect:function(e){return{monitor:e,isDragging:e.isDragging()}}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.render,i=this.context,o=(0,g.useDrag)(this.getDragOptions()),u=(0,r.default)(o,3),d=u[0],c=u[1],f=u[2];this._connectDragTarget=m.default.useCallback(function(t){e._connectDragDOM=t,c(t)},[c]),this._connectDragPreview=f;var s=(0,l.default)({},d,{model:i,connectDragTarget:c,connectDragPreview:f});return n?"function"==typeof n?n(s):n:a?a(s):null}}]),t}(m.default.Component);(0,s.default)(I,"contextType",h.default),(0,s.default)(I,"propTypes",{children:v.default.oneOfType([v.default.func,v.default.node]),render:v.default.func,getInstance:v.default.func.isRequired,canDrag:v.default.func,beginDrag:v.default.func,endDrag:v.default.func});var T=(0,D.default)(I);t.default=T},322:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(14)),l=(a(n(0)),n(37));t.default=function(e){var t=e.children,n=(0,l.useDragLayer)(function(e){var t=e.getItem();return(0,r.default)({},t,{monitor:e,type:e.getItemType(),isDragging:e.isDragging(),initialClientOffset:e.getInitialClientOffset(),initialSourceClientOffset:e.getInitialSourceClientOffset(),clientOffset:e.getClientOffset(),differenceFromInitialOffset:e.getDifferenceFromInitialOffset(),sourceClientOffset:e.getSourceClientOffset()})});return"function"==typeof t?t(n):t}},323:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.useModel=function(){return r.default.useContext(l.default)};var r=a(n(0)),l=a(n(24))},324:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(8)),l=a(n(31)),i=a(n(32)),o=a(n(33)),u=a(n(34)),d=a(n(23)),c=a(n(35)),f=a(n(22)),s=a(n(0)),m=n(44),p=n(37),v=a(n(65)),g=a(n(24)),D=function(e){function t(){var e,n;(0,l.default)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)(n),"_connectDropTarget",null),n}return(0,c.default)(t,e),(0,i.default)(t,[{key:"connectDropTarget",value:function(){var e=(0,m.findDOMNode)(this);this._connectDropTarget(e)}},{key:"componentDidMount",value:function(){this.connectDropTarget()}},{key:"componentDidUpdate",value:function(){this.connectDropTarget()}},{key:"componentWillUnmount",value:function(){this._connectDropTarget(null)}},{key:"getDropOptions",value:function(){return{accept:this.context.getScope()}}},{key:"render",value:function(){var e=(0,p.useDrop)(this.getDropOptions()),t=(0,r.default)(e,2),n=(t[0],t[1]);return this._connectDropTarget=n,this.props.children}}]),t}(s.default.Component);(0,f.default)(D,"contextType",g.default);var h=(0,v.default)(D);t.default=h},325:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.pid,n=void 0===t?null:t,a=e.title,i=e.canDrop;return r.default.createElement(l.DropContainer,{pid:n,canDrop:i},function(e){var t=e.items,n=(e.monitor,e.canDrop),i=e.connectDropTarget;return r.default.createElement("div",{ref:i,style:{border:n?"1px solid green":"1px solid #ccc",flex:1}},r.default.createElement("h3",null,a),r.default.createElement("hr",null),t.map(function(e){return r.default.createElement(l.DropItem,{key:e.id,item:e},function(t){var n=t.connectDragAndDrop,a=t.isDragging;t.isHover,t.isOver,t.isTmp;return r.default.createElement("div",{ref:n,style:{opacity:a?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},e.title,"(",e.id,")")})}))})};var r=a(n(0)),l=n(11)},326:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.title,n=e.canDrop;return r.default.createElement(l.DropContainer,{pid:"parent",canDrop:n},function(e){var n=e.items,a=(e.monitor,e.canDrop),i=e.connectDropTarget;return r.default.createElement("div",{ref:i,style:{border:a?"1px solid green":"1px solid #ccc",flex:1}},r.default.createElement("h3",null,t),r.default.createElement("hr",null),n.map(function(e){return r.default.createElement(l.DropItem,{key:e.id,item:e},function(t){var n=t.connectDragAndDrop,a=t.isDragging;t.isHover,t.isOver,t.isTmp;return r.default.createElement("div",{ref:n,style:{opacity:a?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},e.title,"(",e.id,")")})}),r.default.createElement(l.DropContainer,{pid:"child",canDrop:function(){return!1}},function(e){var t=e.items,n=(e.monitor,e.canDrop),a=e.connectDropTarget;return r.default.createElement("div",{ref:a,style:{height:300,overflow:"auto",border:n?"1px solid green":"1px solid #ccc",flex:1}},r.default.createElement("h3",null,"child"),r.default.createElement("hr",null),t.map(function(e){return r.default.createElement(l.DropItem,{key:e.id,item:e},function(t){var n=t.connectDragAndDrop,a=t.isDragging;t.isHover,t.isOver,t.isTmp;return r.default.createElement("div",{ref:n,style:{opacity:a?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},e.title,"(",e.id,")")})}))}))})};var r=a(n(0)),l=n(11)},327:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(328)),l=a(n(329)),i=a(n(330)),o=a(n(331)),u=a(n(332)),d=[r.default,l.default,i.default,o.default,u.default];t.default=d},328:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_TEXT_FIELD",title:"文本"}},329:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_TEXTAREA_FIELD",title:"多行文本"}},330:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_SELECT_FIELD",title:"单选列表"}},331:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_CHECKBOX_FIELD",title:"复选框"}},332:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_RADIO_FIELD",title:"单选框"}},333:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;for(var r=a(n(8)),l=a(n(0)),i=n(11),o=[],u=0;u<20;u++)o.push({id:u+1,title:"".concat(u+1,". item")});function d(e){var t=e.item;return l.default.createElement(i.DropItem,{item:t},function(e){var n=e.connectDragAndDrop,a=e.isDragging;return l.default.createElement("div",{ref:n,style:{opacity:a?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},t.title)})}t.default=function(){var e=l.default.useState(o),t=(0,r.default)(e,2),n=t[0],a=t[1];return l.default.createElement(i.Provider,{value:n,onChange:a},l.default.createElement(i.DropContainer,null,function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return l.default.createElement("div",{ref:n,style:{border:"1px solid #ccc",borderRadius:4,padding:5,width:270,margin:"30px auto",height:"80%",overflow:"auto"}},t.map(function(e){return l.default.createElement(d,{key:e.id,item:e})}))}))}},334:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;for(var r=a(n(8)),l=a(n(45)),i=a(n(0)),o=n(11),u=[],d=0;d<20;d++)u.push({id:d+1,title:"".concat(d+1,". item")});function c(e){var t=e.item,n=e.index;return i.default.createElement(o.DropItem,{item:t},function(e){var a=e.connectDragAndDrop,r=e.isDragging;return i.default.createElement("div",{ref:a,style:{position:"absolute",transition:"transform .2s cubic-bezier(0.2, 0, 0, 1)",left:5,right:5,transform:"translate(0, ".concat(48*n,"px)"),zIndex:r?2:1,opacity:r?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},t.title)})}function f(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget),a=(0,l.default)(t);a.sort(function(e,t){return e.id-t.id});var r=function(e){for(var n=0;n<t.length;n++){if(t[n].id===e.id)return n}};return i.default.createElement("div",{ref:n,style:{position:"relative",border:"1px solid #ccc",borderRadius:4,padding:5,width:270,margin:"30px auto",height:"80%",overflow:"auto"}},a.map(function(e){return i.default.createElement(c,{key:e.id,index:r(e),item:e})}))}t.default=function(){var e=i.default.useState(u),t=(0,r.default)(e,2),n=t[0],a=t[1];return i.default.createElement(o.Provider,{value:n,onChange:a},i.default.createElement(o.DropContainer,null,f))}},335:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;for(var r=a(n(46)),l=a(n(47)),i=a(n(8)),o=a(n(0)),u=n(11),d=[],c=0;c<5;c++)d.push({pid:"a",id:c+1,title:"".concat(c+1,". item")});for(var f=5;f<20;f++)d.push({pid:"b",id:f+1,title:"".concat(f+1,". item")});function s(e){var t=e.item;return o.default.createElement(u.DropItem,{item:t},function(e){var n=e.connectDragAndDrop,a=e.connectDragPreview,r=e.isDragging;return a((0,u.getEmptyImage)()),o.default.createElement("div",{ref:n,style:{opacity:r?.4:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},t.title)})}function m(e){var t=e.dom,n=e.differenceFromInitialOffset,a=o.default.useState(null),r=(0,i.default)(a,2),l=r[0],u=r[1];if(o.default.useEffect(function(){var e=t.cloneNode(!0),n=t.getBoundingClientRect();return u({rect:n,cloneNode:e}),e.style.position="fixed",e.style.pointerEvents="none",e.style.opacity=1,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.boxSizing="border-box",e.style.width=n.width+"px",e.style.height=n.height+"px",document.body.appendChild(e),function(){document.body.removeChild(e)}},[t]),l){var d=l.cloneNode,c=l.rect;n&&(d.style.left=c.left+n.x+"px",d.style.top=c.top+n.y+"px")}return null}t.default=function(){var e=o.default.useState(d),t=(0,i.default)(e,2),n=t[0],a=t[1];return o.default.createElement(u.Provider,{value:n,onChange:a},o.default.createElement("div",{style:{position:"relative",display:"flex",margin:"30px auto",height:"80%",width:600}},o.default.createElement(u.DropContainer,{pid:"a"},function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return o.default.createElement("div",{ref:n,style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto"}},t.map(function(e){return o.default.createElement(s,{key:e.id,item:e})}))}),o.default.createElement("div",{style:{width:20}}),o.default.createElement(u.DropContainer,{pid:"b"},function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return o.default.createElement("div",{ref:n,style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto"}},t.map(function(e){return o.default.createElement(s,{key:e.id,item:e})}))}),o.default.createElement(u.DragLayer,null,function(e){var t=e.isDragging,n=e.dom,a=(0,l.default)(e,["isDragging","dom"]);return t&&n?o.default.createElement(m,(0,r.default)({dom:n},a)):null})))}},336:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;for(var r=a(n(46)),l=a(n(47)),i=a(n(8)),o=a(n(14)),u=a(n(0)),d=n(11),c=[],f=0;f<20;f++)c.push({pid:"nostart",id:f+1,title:"".concat(f+1,". item")});var s=u.default.memo(function(e){var t=e.item;return u.default.createElement(d.DropItem,{item:t},function(e){var n=e.connectDragAndDrop,a=e.connectDragPreview,r=e.isDragging,l=e.hoverDirection;a((0,d.getEmptyImage)());var i={};return"up"===l&&(i.borderTop="1px solid red",i.borderBottom="1px solid  #dadada"),"down"===l&&(i.borderTop="1px solid #dadada",i.borderBottom="1px solid red"),"none"===l&&(i.borderTop="1px solid #dadada",i.borderBottom="1px solid #dadada"),u.default.createElement("div",{ref:n,style:(0,o.default)({opacity:r?.4:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"},i)},t.title)})});function m(e){var t=e.dom,n=e.differenceFromInitialOffset,a=u.default.useState(null),r=(0,i.default)(a,2),l=r[0],o=r[1];if(u.default.useEffect(function(){var e=t.cloneNode(!0),n=t.getBoundingClientRect();return o({rect:n,cloneNode:e}),e.style.position="fixed",e.style.pointerEvents="none",e.style.opacity=.7,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.boxSizing="border-box",e.style.width=n.width+"px",e.style.height=n.height+"px",document.body.appendChild(e),function(){document.body.removeChild(e)}},[t]),l){var d=l.cloneNode,c=l.rect;n&&(d.style.left=c.left+n.x+"px",d.style.top=c.top+n.y+"px")}return null}t.default=function(){var e=u.default.useState(c),t=(0,i.default)(e,2),n=t[0],a=t[1];return u.default.createElement(d.Provider,{value:n,onChange:a,commitAction:"drop"},u.default.createElement("div",{style:{position:"relative",display:"flex",margin:"30px auto",height:"80%",width:800}},u.default.createElement(d.DropContainer,{pid:"nostart"},function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return u.default.createElement("div",{style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto",display:"flex",flexDirection:"column"}},u.default.createElement("div",null,"未开始"),u.default.createElement("div",{ref:n,style:{flex:"1"}},t.map(function(e){return u.default.createElement(s,{key:e.id,item:e})})))}),u.default.createElement("div",{style:{width:20}}),u.default.createElement(d.DropContainer,{pid:"pending"},function(e){var t=e.items,n=(e.monitor,e.canDrop),a=e.connectDropTarget;return u.default.createElement("div",{style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto",display:"flex",flexDirection:"column"}},u.default.createElement("div",null,"处理中"),u.default.createElement("div",{ref:a,style:{flex:"1",backgroundColor:n?"#eef9f3":""}},t.map(function(e){return u.default.createElement(s,{key:e.id,item:e})})))}),u.default.createElement("div",{style:{width:20}}),u.default.createElement(d.DropContainer,{pid:"done"},function(e){var t=e.items,n=(e.monitor,e.canDrop),a=e.connectDropTarget;return u.default.createElement("div",{style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto",display:"flex",flexDirection:"column"}},u.default.createElement("div",null,"已完成"),u.default.createElement("div",{ref:a,style:{flex:"1",backgroundColor:n?"#eef9f3":""}},t.map(function(e){return u.default.createElement(s,{key:e.id,item:e})})))}),u.default.createElement(d.DragLayer,null,function(e){var t=e.isDragging,n=e.dom,a=(0,l.default)(e,["isDragging","dom"]);return t&&n?u.default.createElement(m,(0,r.default)({dom:n},a)):null})))}},337:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(46)),l=a(n(47)),i=a(n(139)),o=a(n(8)),u=a(n(45)),d=a(n(14)),c=a(n(0)),f=a(n(140)),s=n(11),m=a(n(339)),p=a(n(340));n(341);var v=1;function g(e){var t=e.field;return c.default.createElement(s.WidgetItem,{getInstance:function(){return(0,d.default)({},t,{id:v++})}},function(e){var n=e.connectDragTarget;return(0,e.connectDragPreview)((0,s.getEmptyImage)()),c.default.createElement("div",{className:"field-item",ref:n},t.title)})}function D(e){var t=e.pid,n=c.default.useCallback(function(e){var n=e.item,a=e.model;if("value"===t)return!0;var r=[].concat((0,u.default)(a.getItems("column")),(0,u.default)(a.getItems("row"))),l=r.map(function(e){return e.name});return-1!==r.map(function(e){return e.id}).indexOf(n.id)||-1===l.indexOf(n.name)},[t]);return c.default.createElement(s.DropContainer,{pid:t,canDrop:n,axis:"horizontal"},function(e){var a=e.items,r=e.connectDropTarget,l=e.canDrop,i=e.isStrictlyOver;return c.default.createElement("div",{ref:r,className:(0,f.default)({"field-drop-list":!0,"can-drop":l,"is-over":l&&i})},a.map(function(e){return c.default.createElement(s.DropItem,{canDrop:n,item:e,key:e.id},function(n){var a=n.isDragging,r=n.connectDropTarget,l=n.connectDragTarget,i=n.connectDragPreview,o=n.model,u=n.hoverDirection;return i((0,s.getEmptyImage)()),c.default.createElement("div",{style:{opacity:a?.5:1},className:"field-drop-item hover-dir-"+u,ref:r},c.default.createElement("div",{className:"field-drop-item-inner",ref:l},e.title,"value"===t&&"number"===e.type?"(求和)":"","value"===t&&"number"!==e.type?"(计数)":""," ",c.default.createElement("span",{className:"item-close",onClick:function(){o.removeItem(e.id)}},"x")))})}))})}t.default=function(){var e=c.default.useState([]),t=(0,o.default)(e,2),n=t[0],a=t[1];return c.default.createElement(s.Provider,{value:n,commitAction:"drop",onChange:a},c.default.createElement(s.DropEmptyContainer,null,c.default.createElement("div",{className:"pivot-container",style:{position:"relative",display:"flex",margin:"30px auto",height:"80%",width:888}},c.default.createElement("div",{className:"pivot-field-list"},c.default.createElement("div",{className:"list-header"},"字段列表"),c.default.createElement("div",{className:"list-wrapper"},m.default.map(function(e){return c.default.createElement(g,{field:e,key:e.name})}))),c.default.createElement("div",{className:"pivot-field-result"},c.default.createElement("div",{className:"result-drop"},c.default.createElement("div",{className:"drop-row-wrapper"},c.default.createElement("div",{className:"drop-field-label"},"列"),c.default.createElement("div",{className:"drop-field-list"},c.default.createElement(D,{pid:"column"}))),c.default.createElement("div",{className:"drop-column-wrapper"},c.default.createElement("div",{className:"drop-field-label"},"行"),c.default.createElement("div",{className:"drop-field-list"},c.default.createElement(D,{pid:"row"}))),c.default.createElement("div",{className:"drop-value-wrapper"},c.default.createElement("div",{className:"drop-field-label"},"值"),c.default.createElement("div",{className:"drop-field-list"},c.default.createElement(D,{pid:"value"})))),c.default.createElement("div",{className:"result-data"},c.default.createElement("pre",null,(0,i.default)(n,null,2)))),c.default.createElement(s.DragLayer,null,function(e){var t=e.isDragging,n=e.dom,a=(0,l.default)(e,["isDragging","dom"]);return t&&n?c.default.createElement(p.default,(0,r.default)({dom:n},a)):null}))))}},339:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{title:"日期",type:"date",name:"crated_date"},{title:"订单来源",type:"string",name:"order_from"},{title:"用户注册来源",type:"string",name:"register_from"},{title:"订单地区",type:"string",name:"order_area"},{title:"支付订单量",type:"number",name:"order_pay_total"},{title:"被投诉订单量",type:"number",name:"order_complaint_total"},{title:"取消订单量",type:"number",name:"order_cancel_total"}]},340:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dom,n=e.differenceFromInitialOffset,a=l.default.useState(null),i=(0,r.default)(a,2),o=i[0],u=i[1];if(l.default.useEffect(function(){var e=t.cloneNode(!0),n=t.getBoundingClientRect();return u({rect:n,cloneNode:e}),e.style.position="fixed",e.style.pointerEvents="none",e.style.opacity=.7,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.boxSizing="border-box",e.style.width=n.width+"px",e.style.height=n.height+"px",e.style.padding="5px 10px",e.style.lineHeight="20px",e.style.fontSize="12px",e.style.cursor="default",document.body.appendChild(e),function(){document.body.removeChild(e)}},[t]),o){var d=o.cloneNode,c=o.rect;n&&(d.style.left=c.left+n.x+"px",d.style.top=c.top+n.y+"px")}return null};var r=a(n(8)),l=a(n(0))},341:function(e,t,n){},342:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(46)),l=a(n(47)),i=a(n(139)),o=a(n(8)),u=a(n(45)),d=a(n(14)),c=a(n(0)),f=a(n(140)),s=n(11),m=a(n(343)),p=a(n(344));n(345);var v=1;function g(e){var t=e.field;return c.default.createElement(s.WidgetItem,{getInstance:function(){return(0,d.default)({},t,{id:v++})}},function(e){var n=e.connectDragTarget;return(0,e.connectDragPreview)((0,s.getEmptyImage)()),c.default.createElement("div",{className:"field-item",ref:n},t.title)})}function D(e){var t=e.pid,n=c.default.useCallback(function(e){var n=e.item,a=e.model;if("∑"===n.id&&("value"===t||"filter"===t))return!1;if("value"===t)return!0;var r="filter"===t?a.getItems("filter"):[].concat((0,u.default)(a.getItems("column")),(0,u.default)(a.getItems("row"))),l=r.map(function(e){return e.name});return-1!==r.map(function(e){return e.id}).indexOf(n.id)||-1===l.indexOf(n.name)},[t]);return c.default.createElement(s.DropContainer,{pid:t,canDrop:n},function(e){var a=e.items,r=e.connectDropTarget,l=e.canDrop,i=e.isStrictlyOver;e.model;return c.default.createElement("div",{ref:r,className:(0,f.default)({"field-drop-list":!0,"can-drop":l,"is-over":l&&i})},a.map(function(e){return c.default.createElement(s.DropItem,{canDrop:n,item:e,key:e.id},function(n){var a=n.isDragging,r=n.connectDropTarget,l=n.connectDragTarget,i=n.connectDragPreview,o=n.model,u=n.hoverDirection;return i((0,s.getEmptyImage)()),c.default.createElement("div",{style:{opacity:a?.5:1},className:"field-drop-item hover-dir-"+u,ref:r},c.default.createElement("div",{className:"field-drop-item-inner",ref:l},e.title,"value"===t&&"number"===e.type?"(求和)":"","value"===t&&"number"!==e.type?"(计数)":""," ","∑"===e.id?null:c.default.createElement("span",{className:"item-close",onClick:function(){o.removeItem(e.id)}},"x")))})}))})}var h={id:"∑",title:"∑数值",name:"∑Values",type:"number",pid:"column"};t.default=function(){var e=c.default.useState([]),t=(0,o.default)(e,2),n=t[0],a=t[1],u=c.default.useCallback(function(e){var t=e.filter(function(e){return"value"===e.pid}).length>1,n=e.filter(function(e){return"∑"===e.id});t?n.length||e.push((0,d.default)({},h)):e=e.filter(function(e){return"∑"!==e.id}),a(e)},[n]);return c.default.createElement(s.Provider,{value:n,commitAction:"drop",onChange:u},c.default.createElement(s.DropEmptyContainer,null,c.default.createElement("div",{className:"pivot-container-02",style:{position:"relative",display:"flex",margin:"30px auto",height:"80%",width:888}},c.default.createElement("div",{className:"pivot-field-list"},c.default.createElement("div",{className:"list-header"},"字段列表"),c.default.createElement("div",{className:"list-wrapper"},m.default.map(function(e){return c.default.createElement(g,{field:e,key:e.name})}))),c.default.createElement("div",{className:"pivot-field-result"},c.default.createElement("div",{className:"result-drop"},c.default.createElement("div",{className:"drop-column-wrapper"},c.default.createElement("div",{className:"drop-field-label"},"筛选"),c.default.createElement("div",{className:"drop-field-list"},c.default.createElement(D,{pid:"filter"}))),c.default.createElement("div",{className:"drop-row-wrapper"},c.default.createElement("div",{className:"drop-field-label"},"列"),c.default.createElement("div",{className:"drop-field-list"},c.default.createElement(D,{pid:"row"}))),c.default.createElement("div",{className:"drop-column-wrapper"},c.default.createElement("div",{className:"drop-field-label"},"行"),c.default.createElement("div",{className:"drop-field-list"},c.default.createElement(D,{pid:"column"}))),c.default.createElement("div",{className:"drop-value-wrapper"},c.default.createElement("div",{className:"drop-field-label"},"值"),c.default.createElement("div",{className:"drop-field-list"},c.default.createElement(D,{pid:"value"})))),c.default.createElement("div",{className:"result-data"},c.default.createElement("pre",null,(0,i.default)(n,null,2)))),c.default.createElement(s.DragLayer,null,function(e){var t=e.isDragging,n=e.dom,a=(0,l.default)(e,["isDragging","dom"]);return t&&n?c.default.createElement(p.default,(0,r.default)({dom:n},a)):null}))))}},343:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{title:"日期",type:"date",name:"crated_date"},{title:"订单来源",type:"string",name:"order_from"},{title:"用户注册来源",type:"string",name:"register_from"},{title:"订单地区",type:"string",name:"order_area"},{title:"支付订单量",type:"number",name:"order_pay_total"},{title:"被投诉订单量",type:"number",name:"order_complaint_total"},{title:"取消订单量",type:"number",name:"order_cancel_total"}]},344:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dom,n=e.differenceFromInitialOffset,a=l.default.useState(null),i=(0,r.default)(a,2),o=i[0],u=i[1];if(l.default.useEffect(function(){var e=t.cloneNode(!0),n=t.getBoundingClientRect();return u({rect:n,cloneNode:e}),e.style.position="fixed",e.style.pointerEvents="none",e.style.opacity=.7,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.boxSizing="border-box",e.style.width=n.width+"px",e.style.height=n.height+"px",e.style.padding="5px 10px",e.style.lineHeight="20px",e.style.fontSize="12px",e.style.cursor="default",document.body.appendChild(e),function(){document.body.removeChild(e)}},[t]),o){var d=o.cloneNode,c=o.rect;n&&(d.style.left=c.left+n.x+"px",d.style.top=c.top+n.y+"px")}return null};var r=a(n(8)),l=a(n(0))},345:function(e,t,n){},346:function(e,t,n){},50:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.AXIS_BOTH=t.AXIS_HORIZONTAL=t.AXIS_VERTICAL=t.COMMIT_ACTION_DROP=t.COMMIT_ACTION_AUTO=t.DRAG_DIR_NONE=t.DRAG_DIR_RIGHT=t.DRAG_DIR_LEFT=t.DRAG_DIR_DOWN=t.DRAG_DIR_UP=t.EVENT_TYPE_SORT=t.EVENT_TYPE_ADD=void 0;t.EVENT_TYPE_ADD="add";t.EVENT_TYPE_SORT="sort";t.DRAG_DIR_UP="up";t.DRAG_DIR_DOWN="down";t.DRAG_DIR_LEFT="left";t.DRAG_DIR_RIGHT="right";t.DRAG_DIR_NONE="none";t.COMMIT_ACTION_AUTO="auto";t.COMMIT_ACTION_DROP="drop";t.AXIS_VERTICAL="vertical";t.AXIS_HORIZONTAL="horizontal";t.AXIS_BOTH="both"},64:function(e,t,n){"use strict";var a=n(3);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(14)),l={item:null,isNew:!1,canDrop:!0,hoverPid:null,hoverItem:null,hoverDirection:"none",dragDOMIsRemove:!1,isDragging:!1,currentDragDOM:null};function i(e){l=(0,r.default)({},l,e)}var o={setState:i,getState:function(){return l},reset:function(){i({item:null,isNew:!1,canDrop:!0,hoverPid:null,hoverItem:null,hoverDirection:"none",dragDOMIsRemove:!1,isDragging:!1,currentDragDOM:null})}};t.default=o}},[[145,1,2]]]);
//# sourceMappingURL=index.a9fe1e3a.chunk.js.map