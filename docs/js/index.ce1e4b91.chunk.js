(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,n){n(141),e.exports=n(162)},162:function(e,t,n){"use strict";var r=n(4),a=r(n(0)),i=r(n(49)),l=r(n(167));i.default.render(a.default.createElement(l.default,null),document.getElementById("root"))},167:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),i=n(331),l=r(n(174)),u=r(n(327)),o=r(n(328)),d=r(n(329));n(330);t.default=function(){return a.default.createElement(i.HashRouter,null,a.default.createElement("div",{className:"app-demo"},a.default.createElement("div",{className:"left-nav"},a.default.createElement(i.NavLink,{to:"/basic"},"基本功能"),a.default.createElement(i.NavLink,{to:"/sort-list"},"列表排序"),a.default.createElement(i.NavLink,{to:"/sort-list-animation"},"列表排序(动画效果)"),a.default.createElement(i.NavLink,{to:"/drag-layer"},"自定义推拽层")),a.default.createElement("div",{className:"container"},a.default.createElement(i.Switch,null,a.default.createElement(i.Route,{path:"/",exact:!0,render:function(){return a.default.createElement(i.Redirect,{to:"/basic"})}}),a.default.createElement(i.Route,{path:"/basic",component:l.default}),a.default.createElement(i.Route,{path:"/sort-list",component:u.default}),a.default.createElement(i.Route,{path:"/sort-list-animation",component:o.default}),a.default.createElement(i.Route,{path:"/drag-layer",component:d.default})))))}},174:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=function(){var e=l.default.useState({items:[]}),t=(0,i.default)(e,2),n=t[0],r=t[1];return l.default.createElement(f.WebDesignDndProvider,{value:n.items,onChange:function(e){r({items:e})},onDragStart:function(e){console.log("onDragStart",e)},onDragEnd:function(e){console.log("onDragEnd",e)},onDrop:function(e){console.log("onDrop",e)}},l.default.createElement("div",{style:{display:"flex",height:"100%"}},l.default.createElement("div",{style:{width:240,flex:"none"}},c.default.map(function(e){return l.default.createElement(f.WidgetItem,{key:e.xtype,getInstance:function(){return(0,a.default)({},e,{id:Math.random().toString(16).slice(2,8),pid:null,index:s++})}},function(t){var n=t.connectDragTarget;return l.default.createElement("div",{ref:n,style:{height:32,lineHeight:"32px",padding:"0 20px"}},e.title)})})),l.default.createElement(o.default,{title:"A"}),l.default.createElement(o.default,{pid:"b",title:"B"}),l.default.createElement(u.default,null),l.default.createElement(d.default,{title:"Parent"}),l.default.createElement(o.default,{pid:"d",title:"D",canDrop:function(e){return"EX_TEXTAREA_FIELD"===e.xtype}}),l.default.createElement(p,null)))};var a=r(n(35)),i=r(n(20)),l=r(n(0)),u=r(n(192)),o=r(n(319)),d=r(n(320)),f=n(21),c=r(n(321));var s=1;function p(){return l.default.createElement(f.DragLayer,null,function(e){return e.isDragging?l.default.createElement("div",{style:{padding:5,background:"rgba(0,0,0,.2)",position:"fixed",top:0,right:0}},"dragLayer: isDragging..."):null})}},192:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=function(){return i.default.createElement(l.DropContainer,{pid:"Animate"},function(e){var t=e.items,n=(e.monitor,e.canDrop),r=e.connectDropTarget,u=(0,a.default)(t);return u.sort(function(e,t){return e.index-t.index}),i.default.createElement("div",{ref:r,style:{position:"relative",border:n?"1px solid green":"1px solid #ccc",flex:1}},i.default.createElement("h3",null,"Animate"),i.default.createElement("hr",null),i.default.createElement("div",{style:{position:"relative"}},i.default.createElement("div",{style:{position:"relative"}},u.map(function(e,n){var r=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(r.index===e)return n}}(e.index);return i.default.createElement(l.DropItem,{key:e.id,item:e},function(t){var n=t.connectDragAndDrop,a=t.isDragging,l=(t.isHover,t.isOver);t.isTmp;return i.default.createElement("div",{ref:n,key:e.id,id:e.id,style:{transition:"transform .2s cubic-bezier(0.2, 0, 0, 1)",position:"absolute",left:5,right:5,transform:"translate(0, ".concat(48*r,"px)"),zIndex:a?2:1,opacity:a?.5:1,padding:10,background:"#f2f2f2",border:l&&!a?"1px solid green":"1px solid #dadada"}},e.title,"(",e.id,")")})}))))})};var a=r(n(77)),i=r(n(0)),l=n(21)},203:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(113)),i=r(n(114)),l=r(n(36)),u=r(n(37)),o=r(n(38)),d=r(n(39)),f=r(n(78)),c=r(n(40)),s=r(n(19)),p=r(n(0)),g=r(n(86)),m=n(44),v=r(n(227)),h=function(e){function t(){var e,n;(0,l.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,o.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(a))),(0,s.default)((0,f.default)(n),"model",null),(0,s.default)((0,f.default)(n),"saveModel",function(e){n.model=e}),n}return(0,c.default)(t,e),(0,u.default)(t,[{key:"getModel",value:function(){return this.model}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.backend,r=(0,i.default)(e,["children","backend"]);return p.default.createElement(m.DndProvider,{backend:n},p.default.createElement(v.default,(0,a.default)({},r,{ref:this.saveModel}),t))}}]),t}(p.default.Component);t.default=h,(0,s.default)(h,"defaultProps",{backend:g.default})},21:function(e,t,n){"use strict";var r=n(4),a=n(2);a(t,"__esModule",{value:!0}),a(t,"getEmptyImage",{enumerable:!0,get:function(){return i.getEmptyImage}}),a(t,"WebDesignDndProvider",{enumerable:!0,get:function(){return l.default}}),a(t,"DropContainer",{enumerable:!0,get:function(){return u.DropContainer}}),a(t,"DropItem",{enumerable:!0,get:function(){return u.DropItem}}),a(t,"WidgetItem",{enumerable:!0,get:function(){return o.default}}),a(t,"DragLayer",{enumerable:!0,get:function(){return d.default}}),t.WebDesignContext=void 0;var i=n(86),l=r(n(203)),u=n(313),o=r(n(317)),d=r(n(318)),f=r(n(41)).default;t.WebDesignContext=f},227:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(116)),i=r(n(77)),l=r(n(36)),u=r(n(37)),o=r(n(38)),d=r(n(39)),f=r(n(78)),c=r(n(40)),s=r(n(19)),p=r(n(0)),g=r(n(13)),m=r(n(41)),v=r(n(228)),h=r(n(136));function D(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.random().toString(16).slice(2,8)}function y(e,t){var n=t.idField,r=t.pidField;return e[n]=void 0===e[n]?D("item_"):e[n],e[r]=void 0===e[r]?null:e[r],e}var E=function(e){function t(){var e,n;(0,l.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,o.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(a))),(0,s.default)((0,f.default)(n),"DropContainerContext",p.default.createContext({isRootContainer:!0})),(0,s.default)((0,f.default)(n),"state",{scope:D("scope_"),items:n.props.defaultValue||[]}),n}return(0,c.default)(t,e),(0,u.default)(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange;"value"in t||this.setState({items:e}),n&&n(e)}},{key:"getScope",value:function(){return this.state.scope}},{key:"fireEvent",value:function(e,t){var n=this.props,r={onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDrop:n.onDrop}[e];r&&r(t)}},{key:"getItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.pidField;return this.getAllItems().filter(function(n){return n&&n[t]==e})}},{key:"getChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.items,n=this.props.pidField;return t.filter(function(t){return t[n]==e})}},{key:"getAllItems",value:function(){return(0,i.default)(this.state.items)}},{key:"getPids",value:function(e){var t=this.props,n=t.idField,r=t.pidField,a=[],i=this.getItem(e);if(!i)return a;if(!i[r])return a;for(var l,u=i[r];(l=this.getItem(u))&&(a.push(l[n]),u=l[r]););return a}},{key:"updateItem",value:function(e){var t=this.props.idField,n=this.getAllItems(),r=e[t],a=this.getItemIndex(r);-1!==a&&(n[a]=e),this.onChange(n)}},{key:"isSameItem",value:function(e,t){var n=this.props.idField;return e[n]===t[n]}},{key:"addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props,r=n.pidField;n.indexField;e=y(e,this.props);var a=this.getAllItems();e[r]=t,a.push(e),this.onChange(a)}},{key:"addTmpItem",value:function(e,t){e.__tmp__=!0,e.__dragging__=!0,this.addItem(e,t)}},{key:"setItemDragging",value:function(e){e.__dragging__=!0,this.onChange(this.getAllItems())}},{key:"removeItem",value:function(e){var t=this,n=this.props.idField,r=this.getAllItems().filter(function(r){var a=r[n]===e;a||(a=t.getPids(r[n]).indexOf(e)>-1);return!a});this.onChange(r)}},{key:"getItemIndex",value:function(e,t){var n=this.props.idField;return t=t||this.getAllItems(),(0,h.default)(t,function(t){return t[n]===e})}},{key:"getItem",value:function(e){var t=this.props.idField,n=this.getAllItems();return(0,v.default)(n,function(n){return n&&n[t]===e})}},{key:"insertBefore",value:function(e,t){var n=this.props,r=n.idField,a=n.pidField,i=this.getAllItems(),l=t[r],u=this.getItemIndex(l);if(0!==u){var o=i[u-1];if(o[r]===e[r]&&o[a]===t[a])return}var d=this.getItemIndex(e[r]);d>-1&&i.splice(d,1),e[a]=t[a];var f=this.getItemIndex(l,i);i.splice(f,0,e),this.onChange(i)}},{key:"insertAfter",value:function(e,t){var n=this.props,r=n.idField,a=n.pidField,i=this.getAllItems(),l=t[r],u=this.getItemIndex(l);if(u!==i.length-1){var o=i[u+1];if(o[r]===e[r]&&o[a]===t[a])return}var d=this.getItemIndex(e[r]);d>-1&&i.splice(d,1),e[a]=t[a];var f=(0,h.default)(i,function(e){return e[r]===l});i.splice(f,1,i[f],e),this.onChange(i)}},{key:"clearTmpItems",value:function(){var e=this.getAllItems().map(function(e){return e.__dragging__&&delete e.__dragging__,e}).filter(function(e){return!e.__tmp__});this.onChange(e)}},{key:"updateItemPid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props,r=n.idField,a=n.pidField,i=e[r],l=this.getItemIndex(i);if(e[a]===t)return!0;var u=null==t?[]:this.getPids(t);if(u.length&&-1!==u.indexOf(i))return!1;if(t){var o=this.getItemIndex(t),d=this.getChildren(t);if(d.length){var f=d[0],c=d[d.length-1];return l>o?this.insertAfter(e,c):this.insertBefore(e,f),!0}}return-1!==l&&(e[a]=t),this.onChange(this.getAllItems()),!0}},{key:"commitItem",value:function(e){var t=this.props.idField,n=this.getAllItems(),r=e[t],a=this.getItemIndex(r);-1!==a&&e.__tmp__&&(e.__tmp__=!1,delete e.__tmp__,n[a]=e,this.onChange(n))}},{key:"isTmpItem",value:function(e){return!!e.__tmp__}},{key:"isDragging",value:function(e){return!!e.__dragging__}},{key:"getModel",value:function(){return(0,a.default)(this)}},{key:"render",value:function(){var e=this.props.children;return p.default.createElement(m.default.Provider,{value:this.getModel()},e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value&&e.value.forEach(function(t){return y(t,e)}),{items:"value"in e?e.value:t.items}}}]),t}(p.default.Component);t.default=E,(0,s.default)(E,"propTypes",{value:g.default.array,defaultValue:g.default.array,align:g.default.oneOf(["all","vertical","horizontal"]),onChange:g.default.func,onDragStart:g.default.func,onDragEnd:g.default.func,onDrop:g.default.func}),(0,s.default)(E,"defaultProps",{idField:"id",pidField:"pid",indexField:"index",align:"vertical",onChange:null})},313:function(e,t,n){"use strict";var r=n(4),a=n(2);a(t,"__esModule",{value:!0}),a(t,"DropContainer",{enumerable:!0,get:function(){return i.default}}),a(t,"DropItem",{enumerable:!0,get:function(){return l.default}});var i=r(n(314)),l=r(n(315))},314:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(35)),i=r(n(20)),l=r(n(36)),u=r(n(37)),o=r(n(38)),d=r(n(39)),f=r(n(40)),c=r(n(19)),s=r(n(0)),p=n(49),g=n(44),m=r(n(13)),v=r(n(84)),h=r(n(1)),D=n(85),y=r(n(41)),E=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.pid,r=void 0===n?null:n,l=t.canDrop,u=t.hover,o=t.drop,d=t.collect,f=t.children,c=s.default.useContext(y.default),m=c.DropContainerContext,v=s.default.useContext(m).isRootContainer;(0,h.default)(!!v||null!=r,"sub DropContainer props.pid miss.");var E=(0,g.useDrop)({accept:c.getScope(),canDrop:function(e,t){var n=e.item;return!l||l(n,t)},hover:function(t,n){var i=(0,p.findDOMNode)(e);u&&u(t,n),c.fireEvent("onDragHoverContainer",(0,a.default)({target:r,targetDOM:i,monitor:n},t)),n.isOver({shallow:!0})&&n.canDrop()&&c.updateItemPid(t.item,r)},drop:function(t,n){var i=(0,p.findDOMNode)(e);if(o&&o(t,n),v){var l=c.isTmpItem(t.item);c.fireEvent("onDrop",(0,a.default)({target:r,targetDOM:i,action:l?D.ACTION_ADD:D.ACTION_SORT},t)),c.commitItem(t.item)}},collect:function(e){var t=d?d(e):{};return(0,a.default)({monitor:e,canDrop:e.canDrop(),isOver:e.isOver(),isStrictlyOver:e.isOver({shallow:!0})},t)}}),_=(0,i.default)(E,2),I=_[0],x=_[1],b=c.getItems(r);return I.isOver||(b=b.filter(function(e){return!c.isTmpItem(e)})),s.default.createElement(m.Provider,{value:{isRootContainer:!1}},f((0,a.default)({},I,{model:c,connectDropTarget:x,items:b})))}}]),t}(s.default.Component);(0,c.default)(E,"propTypes",{children:m.default.func.isRequired,pid:m.default.any,disabled:m.default.bool,collect:m.default.func,canDrop:m.default.func,hover:m.default.func,drop:m.default.func}),(0,c.default)(E,"defaultProps",{pid:null});var _=(0,v.default)(E);t.default=_},315:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(20)),i=r(n(35)),l=r(n(36)),u=r(n(37)),o=r(n(38)),d=r(n(39)),f=r(n(40)),c=r(n(19)),s=r(n(0)),p=n(49),g=r(n(13)),m=r(n(84)),v=n(44),h=n(85),D=r(n(41)),y=n(316),E=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getDropOptions",value:function(){var e=this,t=this.props,n=t.item,r=t.align,a=s.default.useContext(D.default);return r=r||a.props.align,{accept:a.getScope(),canDrop:function(e,t){var r=e.item;return!a.isTmpItem(n)&&!a.isSameItem(n,r)},hover:function(t,i){var l=t.item;if(a.fireEvent("onDragHoverItem",{target:n,monitor:i,item:l}),i.isOver({shallow:!0})&&i.canDrop()){var u=i.getClientOffset(),o=(0,p.findDOMNode)(e).getBoundingClientRect(),d=~~(o.right-o.width/2),f=~~(o.bottom-o.height/2),c=!1;switch(r){case"vertical":c=u.y<=f;break;case"horizontal":c=u.x<=d;break;case"all":c=(0,y.isBeforeRect)(o.left,o.top,o.width,o.height,u.x,u.y);break;default:c=u.y<=f}c?a.insertBefore(l,n):a.insertAfter(l,n)}},collect:function(e){return{monitor:e,isOver:e.isOver(),isStrictlyOver:e.isOver({shallow:!0}),canDrop:!a.isTmpItem(n)&&e.canDrop()}}}}},{key:"getDragOptions",value:function(){var e=this,t=this.props,n=t.item,r=t.canDrag,a=t.beginDrag,l=t.endDrag,u=s.default.useContext(D.default);return{item:{type:u.getScope()},canDrag:function(e){return!r||r(e)},begin:function(t){var r=(0,p.findDOMNode)(e);return a&&a({item:n,dom:r},t),u.fireEvent("onDragStart",{item:n,dom:r,action:h.ACTION_SORT}),u.setItemDragging(n),{item:n,dom:r}},end:function(e,t){l&&l(e,t),u.fireEvent("onDragEnd",(0,i.default)({},e,{action:h.ACTION_SORT})),u.clearTmpItems()}}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.item,r=s.default.useContext(D.default),l=(0,v.useDrop)(this.getDropOptions()),u=(0,a.default)(l,2),o=u[0],d=u[1],f=(0,v.useDrag)(this.getDragOptions()),c=(0,a.default)(f,3),p=c[0],g=c[1],m=c[2];return t((0,i.default)({},o,p,{item:n,isTmp:r.isTmpItem(n),isDragging:r.isDragging(n),connectDropTarget:d,connectDragTarget:g,connectDragAndDrop:function(e){d(e),g(e)},connectDragPreview:m}))}}]),t}(s.default.Component);(0,c.default)(E,"propTypes",{children:g.default.func.isRequired,item:g.default.object.isRequired,align:g.default.oneOf(["all","vertical","horizontal"]),canDrag:g.default.func,beginDrag:g.default.func,endDrag:g.default.func});var _=(0,m.default)(E);t.default=_},316:function(e,t,n){"use strict";function r(e,t,n,r,a,i){var l=((t+r)*a-t*a+t*(e+n)-(t+r)*e)/(e+n-e),u=(t*a-(t+r)*a+(t+r)*(e+n)-t*e)/(e+n-e);if(i<l&&i<u)return 1;if(i>l&&i>u)return 2;if(i>l&&i<u)return 3;if(i<l&&i>u)return 4;var o=e+n/2,d=t+r/2;return a>o&&i<d?1:a>o&&i>d?2:a<o&&i<d?1:a<o&&i>d?2:-1}n(2)(t,"__esModule",{value:!0}),t.getRectDirection=r,t.isBeforeRect=function(){var e=r.apply(void 0,arguments);return 1===e||3===e}},317:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(35)),i=r(n(20)),l=r(n(36)),u=r(n(37)),o=r(n(38)),d=r(n(39)),f=r(n(40)),c=r(n(19)),s=r(n(0)),p=r(n(13)),g=n(49),m=n(44),v=(n(86),r(n(84))),h=r(n(41)),D=n(85),y=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.getInstance,r=e.canDrag,l=e.beginDrag,u=e.endDrag,o=this,d=s.default.useContext(h.default),f=(0,m.useDrag)({item:{type:d.getScope()},canDrag:function(e){return!r||r(e)},begin:function(e){var t=n(),r=(0,g.findDOMNode)(o);return l&&l({item:t,dom:r},e),d.fireEvent("onDragStart",{item:t,dom:r,action:D.ACTION_ADD}),d.addTmpItem(t),{item:t,dom:r}},end:function(e,t){u&&u(e,t),d.fireEvent("onDragEnd",(0,a.default)({},e,{action:D.ACTION_ADD})),d.clearTmpItems()},collect:function(e){return{monitor:e,isDragging:e.isDragging()}}}),c=(0,i.default)(f,3),p=c[0],v=c[1],y=c[2];return t((0,a.default)({},p,{connectDragTarget:v,connectDragPreview:y}))}}]),t}(s.default.Component);(0,c.default)(y,"propTypes",{children:p.default.func.isRequired,getInstance:p.default.func.isRequired,canDrag:p.default.func,beginDrag:p.default.func,endDrag:p.default.func});var E=(0,v.default)(y);t.default=E},318:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(35)),i=(r(n(0)),n(44));t.default=function(e){var t=e.children,n=(0,i.useDragLayer)(function(e){var t=e.getItem();return[(0,a.default)({type:e.getItemType(),isDragging:e.isDragging(),initialClientOffset:e.getInitialClientOffset(),initialSourceClientOffset:e.getInitialSourceClientOffset(),clientOffset:e.getClientOffset(),differenceFromInitialOffset:e.getDifferenceFromInitialOffset(),sourceClientOffset:e.getSourceClientOffset()},t),e]});return"function"==typeof t?t(n[0],n[1]):t}},319:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.pid,n=void 0===t?null:t,r=e.title,l=e.canDrop;return a.default.createElement(i.DropContainer,{pid:n,canDrop:l},function(e){var t=e.items,n=(e.monitor,e.canDrop),l=e.connectDropTarget;return a.default.createElement("div",{ref:l,style:{border:n?"1px solid green":"1px solid #ccc",flex:1}},a.default.createElement("h3",null,r),a.default.createElement("hr",null),t.map(function(e){return a.default.createElement(i.DropItem,{key:e.id,item:e},function(t){var n=t.connectDragAndDrop,r=t.isDragging;t.isHover,t.isOver,t.isTmp;return a.default.createElement("div",{ref:n,style:{opacity:r?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},e.title,"(",e.id,")")})}))})};var a=r(n(0)),i=n(21)},320:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.title,n=e.canDrop;return a.default.createElement(i.DropContainer,{pid:"parent",canDrop:n},function(e){var n=e.items,r=(e.monitor,e.canDrop),l=e.connectDropTarget;return a.default.createElement("div",{ref:l,style:{border:r?"1px solid green":"1px solid #ccc",flex:1}},a.default.createElement("h3",null,t),a.default.createElement("hr",null),n.map(function(e){return a.default.createElement(i.DropItem,{key:e.id,item:e},function(t){var n=t.connectDragAndDrop,r=t.isDragging;t.isHover,t.isOver,t.isTmp;return a.default.createElement("div",{ref:n,style:{opacity:r?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},e.title,"(",e.id,")")})}),a.default.createElement(i.DropContainer,{pid:"child"},function(e){var t=e.items,n=(e.monitor,e.canDrop),r=e.connectDropTarget;return a.default.createElement("div",{ref:r,style:{height:300,overflow:"auto",border:n?"1px solid green":"1px solid #ccc",flex:1}},a.default.createElement("h3",null,"child"),a.default.createElement("hr",null),t.map(function(e){return a.default.createElement(i.DropItem,{key:e.id,item:e},function(t){var n=t.connectDragAndDrop,r=t.isDragging;t.isHover,t.isOver,t.isTmp;return a.default.createElement("div",{ref:n,style:{opacity:r?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},e.title,"(",e.id,")")})}))}))})};var a=r(n(0)),i=n(21)},321:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(322)),i=r(n(323)),l=r(n(324)),u=r(n(325)),o=r(n(326)),d=[a.default,i.default,l.default,u.default,o.default];t.default=d},322:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_TEXT_FIELD",title:"文本"}},323:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_TEXTAREA_FIELD",title:"多行文本"}},324:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_SELECT_FIELD",title:"单选列表"}},325:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_CHECKBOX_FIELD",title:"复选框"}},326:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.default=void 0;t.default={xtype:"EX_RADIO_FIELD",title:"单选框"}},327:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;for(var a=r(n(20)),i=r(n(0)),l=n(21),u=[],o=0;o<20;o++)u.push({id:o+1,title:"".concat(o+1,". item")});function d(e){var t=e.item;return i.default.createElement(l.DropItem,{item:t},function(e){var n=e.connectDragAndDrop,r=e.isDragging;return i.default.createElement("div",{ref:n,style:{opacity:r?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},t.title)})}t.default=function(){var e=i.default.useState(u),t=(0,a.default)(e,2),n=t[0],r=t[1];return i.default.createElement(l.WebDesignDndProvider,{value:n,onChange:r},i.default.createElement(l.DropContainer,null,function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return i.default.createElement("div",{ref:n,style:{border:"1px solid #ccc",borderRadius:4,padding:5,width:270,margin:"30px auto",height:"80%",overflow:"auto"}},t.map(function(e){return i.default.createElement(d,{key:e.id,item:e})}))}))}},328:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;for(var a=r(n(20)),i=r(n(77)),l=r(n(19)),u=r(n(0)),o=n(21),d=[],f=0;f<20;f++)d.push({id:f+1,title:"".concat(f+1,". item")});function c(e){var t=e.item,n=e.index;return u.default.createElement(o.DropItem,{item:t},function(e){var r,a=e.connectDragAndDrop,i=e.isDragging;return u.default.createElement("div",{ref:a,style:(r={position:"absolute",transition:"transform .2s cubic-bezier(0.2, 0, 0, 1)"},(0,l.default)(r,"position","absolute"),(0,l.default)(r,"left",5),(0,l.default)(r,"right",5),(0,l.default)(r,"transform","translate(0, ".concat(48*n,"px)")),(0,l.default)(r,"zIndex",i?2:1),(0,l.default)(r,"opacity",i?.5:1),(0,l.default)(r,"padding",10),(0,l.default)(r,"margin",5),(0,l.default)(r,"background","#f2f2f2"),(0,l.default)(r,"border","1px solid #dadada"),r)},t.title)})}function s(e){var t=e.items,n=e.monitor,r=e.canDrop,a=e.connectDropTarget,l=(0,i.default)(t);l.sort(function(e,t){return e.id-t.id});var o=function(e){for(var n=0;n<t.length;n++){if(t[n].id===e.id)return n}};return u.default.createElement("div",{ref:{items:t,monitor:n,canDrop:r,connectDropTarget:a},style:{position:"relative",border:"1px solid #ccc",borderRadius:4,padding:5,width:270,margin:"30px auto",height:"80%",overflow:"auto"}},l.map(function(e){return u.default.createElement(c,{key:e.id,index:o(e),item:e})}))}t.default=function(){var e=u.default.useState(d),t=(0,a.default)(e,2),n=t[0],r=t[1];return u.default.createElement(o.WebDesignDndProvider,{value:n,onChange:r},u.default.createElement(o.DropContainer,null,s))}},329:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;for(var a=r(n(113)),i=r(n(114)),l=r(n(20)),u=r(n(0)),o=n(21),d=[],f=0;f<5;f++)d.push({pid:"a",id:f+1,title:"".concat(f+1,". item")});for(var c=5;c<20;c++)d.push({pid:"b",id:c+1,title:"".concat(c+1,". item")});function s(e){var t=e.item;return u.default.createElement(o.DropItem,{item:t},function(e){var n=e.connectDragAndDrop,r=e.connectDragPreview,a=e.isDragging;return r((0,o.getEmptyImage)()),u.default.createElement("div",{ref:n,style:{opacity:a?.4:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},t.title)})}function p(e){var t=e.dom,n=e.differenceFromInitialOffset,r=u.default.useState(null),a=(0,l.default)(r,2),i=a[0],o=a[1];if(u.default.useEffect(function(){var e=t.cloneNode(!0),n=t.getBoundingClientRect();return o({rect:n,cloneNode:e}),e.style.position="fixed",e.style.pointerEvents="none",e.style.opacity=1,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.boxSizing="border-box",e.style.width=n.width+"px",e.style.height=n.height+"px",document.body.appendChild(e),function(){document.body.removeChild(e)}},[]),i){var d=i.cloneNode,f=i.rect;n&&(d.style.left=f.left+n.x+"px",d.style.top=f.top+n.y+"px")}return null}t.default=function(){var e=u.default.useState(d),t=(0,l.default)(e,2),n=t[0],r=t[1];return u.default.createElement(o.WebDesignDndProvider,{value:n,onChange:r},u.default.createElement("div",{style:{position:"relative",display:"flex",margin:"30px auto",height:"80%",width:600}},u.default.createElement(o.DropContainer,{pid:"a"},function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return u.default.createElement("div",{ref:n,style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto"}},t.map(function(e){return u.default.createElement(s,{key:e.id,item:e})}))}),u.default.createElement("div",{style:{width:20}}),u.default.createElement(o.DropContainer,{pid:"b"},function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return u.default.createElement("div",{ref:n,style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto"}},t.map(function(e){return u.default.createElement(s,{key:e.id,item:e})}))}),u.default.createElement(o.DragLayer,null,function(e){var t=e.isDragging,n=e.dom,r=(0,i.default)(e,["isDragging","dom"]);return t&&n?u.default.createElement(p,(0,a.default)({dom:n},r)):null})))}},330:function(e,t,n){},41:function(e,t,n){"use strict";var r=n(4);n(2)(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)).default.createContext({});t.default=a},85:function(e,t,n){"use strict";n(2)(t,"__esModule",{value:!0}),t.ACTION_SORT=t.ACTION_ADD=void 0;t.ACTION_ADD="ADD";t.ACTION_SORT="SORT"}},[[140,1,2]]]);
//# sourceMappingURL=index.ce1e4b91.chunk.js.map