(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,n){"use strict";var r=n(88);n.d(t,"getEmptyImage",(function(){return r.a}));n(4);var i=n(128);n.d(t,"PageDesignCore",(function(){return i.a}));var a=n(121);n.d(t,"DropContainer",(function(){return a.a}));var o=n(122);n.d(t,"DropItem",(function(){return o.a}));var c=n(123);n.d(t,"DragItem",(function(){return c.a}));var l=n(124);n.d(t,"DragLayer",(function(){return l.a}));var d=n(125);n.d(t,"useModel",(function(){return d.a}));var s=n(60);n.d(t,"DropZone",(function(){return s.a}));n(17),n(126)},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));n(18),n(86),n(22);var r=n(6),i=n.n(r),a=n(5),o=n.n(a),c=n(8),l=n.n(c),d=n(3),s=n.n(d),u=n(0),m=n.n(u),p=n(14),f=n(93),g=n(33),v=n.n(g),h=n(130),D=n.n(h),E=n(4),y=n(17),b=n(7),x=n(9),O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,s()(o()(t),"context",void 0),s()(o()(t),"_connectDropTarget",void 0),t}l()(t,e);var n=t.prototype;return n.connectDropTarget=function(){var e=this.props.children;if(e&&"function"!==typeof e){var t=Object(p.findDOMNode)(this);this._connectDropTarget(t)}},n.componentDidMount=function(){this.connectDropTarget()},n.componentDidUpdate=function(){this.connectDropTarget()},n.componentWillUnmount=function(){this._connectDropTarget(null)},n.getModel=function(){return this.context.model},n.getDropOptions=function(){var e=this,t=this.props,n=t.id,r=void 0===n?null:n,i=t.hover,a=t.canDrop,o=t.drop,c=t.accepts,l=Object(p.findDOMNode)(this),d=this.getModel(),s=d.props.commitAction;return{accept:[d.getScope()].concat(c),canDrop:function(t,n){var i=!d.contains(t.item,d.getItem(r));return i&&a&&(i=a(Object.assign({},t,{component:e,monitor:n,model:d}))),i},hover:function(t,n){var a=n.canDrop();if(i&&i(Object.assign({},t,{component:e,monitor:n,model:d})),n.isOver({shallow:!0})){b.a.setState({canDrop:n.canDrop(),hoverContainerId:r,hoverItem:void 0,hoverDirection:E.h}),a&&s===E.d&&d.updateItemPid(t.item,r);var o=Object.assign({target:r,targetDOM:l,monitor:n,component:e,model:d},t);d.fireEvent("onDragHoverContainer",o),d.fireEvent("onDragHover",o)}},drop:function(t,n){var i=b.a.getState();if(b.a.reset(),o&&o(Object.assign({},t,{component:e,monitor:n,model:d})),!n.didDrop()){s===E.d?d.commitItem(t.item):s===E.e&&d.commitDragStateItem(i);var a=b.a.getState().isNew,c=Object.assign({target:r,targetDOM:l,type:a?E.k:E.l,monitor:n,component:e,model:d},t);d.fireEvent("onDropToContainer",c),d.fireEvent("onDrop",c)}},collect:function(e){return{monitor:e,canDrop:e.canDrop(),isOver:e.isOver(),isStrictlyOver:e.isOver({shallow:!0})}}}},n.render=function(){var e=this.props,t=e.id,n=e.children,r=e.render,a=e.axis,o=this.getModel(),c=o.DropContainerContext;m.a.useContext(c).isRootContainer||null!=t||D()(!1);var l=Object(f.a)(this.getDropOptions()),d=i()(l,2),s=d[0],u=d[1],p=o.getChildren(t);s.isOver||(p=p.filter((function(e){return!o.isTmpItem(e)}))),this._connectDropTarget=u;var g=Object.assign({},s,{model:o,connectDropTarget:u,items:p}),v=n?Object(x.d)(n)?n(g):n:r?r(g):null;return m.a.createElement(c.Provider,{value:{isRootContainer:!1,axis:a}},v)},t}(m.a.Component);s()(O,"contextType",y.a),s()(O,"defaultProps",{id:null,accepts:[]});var I=v()(O)},122:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n(18),n(22);var r=n(6),i=n.n(r),a=n(5),o=n.n(a),c=n(8),l=n.n(c),d=n(3),s=n.n(d),u=n(0),m=n.n(u),p=n(14),f=n(33),g=n.n(f),v=n(93),h=n(133),D=n(4),E=n(17),y=n(9),b=n(7),x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,s()(o()(t),"context",void 0),s()(o()(t),"_lastHoverDirection",D.h),s()(o()(t),"_connectDragDOM",null),s()(o()(t),"_connectDropTarget",void 0),s()(o()(t),"_connectDragSource",void 0),s()(o()(t),"_connectDragPreview",void 0),t}l()(t,e);var n=t.prototype;return n.getModel=function(){return this.context.model},n.getHoverDirection=function(e,t,n){void 0===t&&(t=Object(p.findDOMNode)(this)),void 0===n&&(n=D.c);var r=t.getBoundingClientRect(),i=e.getClientOffset()||{x:0,y:0},a=~~(r.right-r.width/2),o=~~(r.bottom-r.height/2);switch(n){case D.c:return i.y<=o?D.j:D.f;case D.b:return i.x<=a?D.g:D.i;case D.a:return Object(y.c)(r.left,r.top,r.width,r.height,i.x,i.y);default:return i.y<=o?D.j:D.f}},n.getDropOptions=function(){var e=this,t=this.props,n=t.item,r=t.axis,i=t.canDrop,a=t.hover,o=t.drop,c=t.accepts,l=Object(p.findDOMNode)(this),d=this.getModel(),s=d.DropContainerContext,u=m.a.useContext(s).axis,f=d.props,g=f.commitAction,v=f.axis;return r=r||u||v,{accept:[d.getScope()].concat(c),canDrop:function(t,r){var a=t.item,o=!d.isTmpItem(n)&&!d.isSameItem(n,a);return o&&(o=!d.contains(a,n)),o&&i&&(o=i(Object.assign({},t,{component:e,monitor:r,model:d}))),o},hover:function(t,i){var o=i.canDrop();if(a&&a(Object.assign({},t,{component:e,monitor:i,model:d})),i.isOver({shallow:!0})){var c=t.item,s=e.getHoverDirection(i,l,r),u=e._lastHoverDirection;e._lastHoverDirection=s,b.a.setState({canDrop:o,hoverContainerId:void 0,hoverItem:n,hoverDirection:s}),o&&(s!==u&&e.forceUpdate(),g===D.d&&(s===D.j||s===D.g?d.insertBefore(c,n):d.insertAfter(c,n)));var m=Object.assign({target:n,targetDOM:l,monitor:i,component:e,model:d},t);d.fireEvent("onDragHoverItem",m),d.fireEvent("onDragHover",m)}},drop:function(t,r){var i=b.a.getState();if(b.a.reset(),o&&o(Object.assign({},t,{component:e,monitor:r,model:d})),!r.didDrop()){g===D.d?d.commitItem(t.item):g===D.e&&d.commitDragStateItem(i);var a=b.a.getState().isNew,c=Object.assign({target:n,targetDOM:l,type:a?D.k:D.l,monitor:r,component:e,model:d},t);d.fireEvent("onDropToItem",c),d.fireEvent("onDrop",c)}},collect:function(e){return{monitor:e,hoverDirection:D.h,isOver:e.isOver(),isStrictlyOver:e.isOver({shallow:!0}),canDrop:!d.isTmpItem(n)&&e.canDrop()}}}},n.getDragOptions=function(){var e=this,t=this.props,n=t.item,r=t.canDrag,i=t.beginDrag,a=t.endDrag,o=this.getModel();return{item:{type:o.getScope()},canDrag:function(t){return!r||r({component:e,monitor:t,model:o})},begin:function(t){var r=Object(p.findDOMNode)(e),a=e._connectDragDOM;return i&&i({item:n,dom:r,component:e,monitor:t,model:o}),b.a.setState({item:n,isNew:!1,dragDOMIsRemove:!1,isDragging:!0,dragDOM:a}),o.fireEvent("onDragStart",{item:n,dom:r,type:D.l,model:o,monitor:t,component:e}),{type:o.getScope(),item:n,dom:r}},end:function(t,n){var r=b.a.getState(),i=r.dragDOMIsRemove,c=r.dragDOM;b.a.reset(),i&&c&&c.parentNode&&c.parentNode.removeChild(c),a&&a(Object.assign({},t,{model:o,monitor:n,component:e})),o.fireEvent("onDragEnd",Object.assign({},t,{type:D.l,model:o,monitor:n,component:e}))},collect:function(e){var t=e.getItem();return{isDragging:t&&o.isSameItem(t.item,n)}}}},n.componentDidUpdate=function(){this.connectDragAndDrop()},n.componentDidMount=function(){this.connectDragAndDrop()},n.connectDragAndDrop=function(){var e=this.props.children;if(e&&"function"!==typeof e){var t=Object(p.findDOMNode)(this);this._connectDropTarget(t),this._connectDragSource(t)}},n.componentWillUnmount=function(){var e=this._connectDragDOM,t=b.a.getState();t.isDragging&&e&&t.dragDOM===e&&(b.a.setState({dragDOMIsRemove:!0}),setTimeout((function(){Object(y.e)(e)||(e.style.display="none",e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",document.body.appendChild(e))}),0)),this._connectDropTarget(null),this._connectDragSource(null),this._connectDragPreview(null)},n.render=function(){var e=this,t=this.props,n=t.children,r=t.render,a=t.item,o=this.getModel(),c=Object(v.a)(this.getDropOptions()),l=i()(c,2),d=l[0],s=l[1],u=Object(h.a)(this.getDragOptions()),p=i()(u,3),f=p[0],g=p[1],E=p[2];this._connectDropTarget=s,this._connectDragSource=m.a.useCallback((function(t){e._connectDragDOM=t,g(t)}),[g]),this._connectDragPreview=E;var b=m.a.useCallback((function(t){e._connectDropTarget(t),e._connectDragSource(t)}),[]),x=Object.assign({},d,f,{item:a,isTmp:o.isTmpItem(a),model:o,connectDropTarget:s,connectDragSource:g,connectDragAndDrop:b,connectDragPreview:E}),O=x.isStrictlyOver,I=x.isDragging,C=x.canDrop;return x.hoverDirection=O&&!I&&C?this._lastHoverDirection:D.h,n?Object(y.d)(n)?n(x):n:r?r(x):null},t}(m.a.Component);s()(x,"contextType",E.a),s()(x,"defaultProps",{accepts:[]});var O=g()(x)},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n(18),n(22);var r=n(6),i=n.n(r),a=n(5),o=n.n(a),c=n(8),l=n.n(c),d=n(3),s=n.n(d),u=n(0),m=n.n(u),p=n(14),f=n(133),g=n(33),v=n.n(g),h=n(17),D=n(4),E=n(9),y=n(7),b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,s()(o()(t),"context",void 0),s()(o()(t),"_dragDOM",void 0),s()(o()(t),"_connectDragSource",null),s()(o()(t),"_connectDragPreview",null),t}l()(t,e);var n=t.prototype;return n.componentDidUpdate=function(){this.connectDragSource()},n.componentDidMount=function(){this.connectDragSource()},n.getModel=function(){return this.context.model},n.connectDragSource=function(){var e=this.props.children;e&&"function"!==typeof e&&this._connectDragSource&&this._connectDragSource(Object(p.findDOMNode)(this))},n.componentWillUnmount=function(){var e=this._dragDOM,t=y.a.getState();t.isDragging&&e&&t.dragDOM===e&&(y.a.setState({dragDOMIsRemove:!0}),setTimeout((function(){Object(E.e)(e)||(e.style.display="none",e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",document.body.appendChild(e))}),0)),this._connectDragSource&&this._connectDragSource(null),this._connectDragPreview&&this._connectDragPreview(null)},n.getDragOptions=function(){var e=this,t=this.props,n=t.getInstance,r=t.canDrag,i=t.beginDrag,a=t.endDrag,o=this.getModel(),c=o.props.commitAction;return{item:{type:o.getScope()},canDrag:function(t){return!r||r({monitor:t,model:o,component:e})},begin:function(t){var r=n(),a=Object(p.findDOMNode)(e);i&&i({item:r,dom:a,component:e,monitor:t,model:o});var l=e._dragDOM;return y.a.setState({item:r,isNew:!0,dragDOMIsRemove:!1,isDragging:!0,dragDOM:l}),c===D.d&&o.addTmpItem(r),o.fireEvent("onDragStart",{item:r,dom:a,type:D.k,model:o,monitor:t,component:e}),{type:o.getScope(),item:r,dom:a}},end:function(t,n){var r=y.a.getState(),i=r.dragDOMIsRemove,c=r.dragDOM;y.a.reset(),i&&c&&c.parentNode&&c.parentNode.removeChild(c),a&&a({item:t.item,dom:t.dom,model:o,monitor:n,component:e}),o.clearTmpItems(),o.fireEvent("onDragEnd",Object.assign({},t,{type:D.k,model:o,monitor:n,component:e}))},collect:function(e){return{monitor:e,isDragging:e.isDragging()}}}},n.render=function(){var e=this,t=this.props,n=t.children,r=t.render,a=this.getModel(),o=Object(f.a)(this.getDragOptions()),c=i()(o,3),l=c[0],d=c[1],s=c[2];this._connectDragSource=m.a.useCallback((function(t){e._dragDOM=t,d(t)}),[d]),this._connectDragPreview=s;var u=Object.assign({},l,{model:a,connectDragSource:d,connectDragPreview:s});return n?Object(E.d)(n)?n(u):n:r?r(u):null},t}(m.a.Component);s()(b,"contextType",h.a);var x=v()(b)},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(22);var r=n(192),i=n(9),a=function(e){var t=e.children,n=Object(r.a)((function(e){var t=e.getItem();return Object.assign({},t,{monitor:e,isDragging:e.isDragging(),initialClientOffset:e.getInitialClientOffset(),initialSourceClientOffset:e.getInitialSourceClientOffset(),clientOffset:e.getClientOffset(),differenceFromInitialOffset:e.getDifferenceFromInitialOffset(),sourceClientOffset:e.getSourceClientOffset()})}));return Object(i.d)(t)?t(n):t};a.displayName="DragLayer"},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n.n(r),a=n(17);function o(){return i.a.useContext(a.a).model}},126:function(e,t){},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));n(18);var r=n(29),i=n.n(r),a=n(11),o=n.n(a),c=n(5),l=n.n(c),d=n(8),s=n.n(d),u=n(3),m=n.n(u),p=n(0),f=n.n(p),g=n(45),v=n(194),h=(n(86),n(176),n(87),n(16),n(57),n(177),n(58),n(59),n(178),n(9)),D=n(60),E=n(17),y=n(7),b=n(4);function x(e){return void 0===e&&(e=""),e+Math.random().toString(16).slice(2,8)}function O(e,t){return e.id=void 0===e.id?x("item_"):e.id,e.pid=void 0===e.pid?t.rootId:e.pid,e}var I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,m()(l()(t),"DropContainerContext",f.a.createContext({isRootContainer:!0,axis:b.c})),m()(l()(t),"state",{scope:x("scope_"),items:[]}),t}s()(t,e),t.getDerivedStateFromProps=function(e,t){return{items:"value"in e?e.value.map((function(t){return O(t,e)})):t.items}};var n=t.prototype;return n.getDragState=function(){return y.a.getState()},n.onChange=function(e){var t=this.props,n=t.onChange;void 0===t.value&&this.setState({items:e}),n&&n(e)},n.getScope=function(){return this.state.scope},n.fireEvent=function(e,t){var n=this.props[e];n&&n(t)},n.contains=function(e,t){if(!t)return!1;var n=e.id,r=t.id,i=this.getPids(r);return i.push(r),-1!==i.indexOf(n)},n.getChildren=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=this.state.items),t.filter((function(t){return t&&t.pid===e}))},n.getAllItems=function(){return[].concat(this.state.items)},n.isRootId=function(e){var t=this.props.rootId,n=null==e||t===e;return n||(n=!this.getItem(e)),n},n.getPids=function(e){for(var t=[],n=this.getItem(e);n;){var r=n.pid;if(this.isRootId(r))break;t.push(r),n=this.getItem(r)}return t},n.updateItem=function(e){var t=this.getAllItems(),n=e.id,r=this.getItemIndex(n);-1!==r&&(t[r]=e),this.onChange(t)},n.isSameItem=function(e,t){return e&&t&&e.id===t.id},n._addItem=function(e,t){void 0===t&&(t=null),(e=O(e,this.props)).pid=t,this.state.items.push(e)},n.addItem=function(e,t){void 0===t&&(t=null),e=O(e,this.props);var n=this.getAllItems();e.pid=t,n.push(e),this.onChange(n)},n.addItems=function(e,t){var n=this;void 0===e&&(e=[]),void 0===t&&(t=null),(e=e.map((function(e){return O(e,n.props)}))).forEach((function(e){return e.pid=t})),this.onChange([].concat(this.getAllItems(),e))},n.addTmpItem=function(e,t){e.__tmp__=!0,this.addItem(e,t)},n.removeItem=function(e){var t=this,n=this.getAllItems().filter((function(n){var r=n.id===e;r||(r=t.getPids(n.id).indexOf(e)>-1);return!r}));this.onChange(n)},n.getItemIndex=function(e,t){return void 0===t&&(t=this.state.items),Object(h.b)(t,(function(t){return t.id===e}))},n.getItem=function(e,t){return void 0===t&&(t=this.state.items),Object(h.a)(t,(function(t){return t&&t.id===e}))},n.insertBefore=function(e,t){if(this.isSameItem(e,t))return!1;var n=this.getAllItems(),r=t.id,i=this.getItemIndex(r);if(0!==i){var a=n[i-1];if(a.id===e.id&&a.pid===t.pid)return!1}var o=this.getItemIndex(e.id);o>-1&&n.splice(o,1),e.pid=t.pid;var c=Object(h.b)(n,(function(e){return e.id===r}));return n.splice(c,0,e),this.onChange(n),!0},n.insertAfter=function(e,t){if(this.isSameItem(e,t))return!1;var n=this.getAllItems(),r=t.id,i=this.getItemIndex(r);if(i!==n.length-1){var a=n[i+1];if(a.id===e.id&&a.pid===t.pid)return!1}var o=this.getItemIndex(e.id);o>-1&&n.splice(o,1),e.pid=t.pid;var c=Object(h.b)(n,(function(e){return e.id===r}));return n.splice(c,1,n[c],e),this.onChange(n),!0},n.clearTmpItems=function(){var e=this.getAllItems(),t=!1,n=e.filter((function(e){var n=e.__tmp__;return n&&(t=!0),!n}));t&&this.onChange(n)},n.updateItemPid=function(e,t){if(void 0===t&&(t=null),e.pid===t)return!1;var n=e.id;if(n===t)return!1;var r=null==t?[]:this.getPids(t);if(r.length&&-1!==r.indexOf(n))return!1;var i=this.getAllItems(),a=this.getItemIndex(n,i);return-1!==a&&(e.pid=t,i.splice(a,1),i.push(e),this.onChange(i),!0)},n.commitItem=function(e){var t=this.getAllItems(),n=e.id,r=this.getItemIndex(n);-1!==r&&e.__tmp__&&(e.__tmp__=!1,delete e.__tmp__,t[r]=e,this.onChange(t))},n.commitDragStateItem=function(e){var t=this,n=e.canDrop,r=e.item,i=e.hoverContainerId,a=e.hoverItem,o=e.hoverDirection,c=e.isDragging,l=e.isNew;if(c&&n){var d=function(){o===b.j||o===b.g?t.insertBefore(r,a):t.insertAfter(r,a)};if(l)a?(this._addItem(r,null),d()):this.addItem(r,i);else if(a)d();else{var s=this.getChildren(i);Object(h.a)(s,(function(e){return t.isSameItem(e,r)}))||(s.length?this.insertAfter(r,Object(h.f)(s)):this.updateItemPid(r,i))}}},n.isDragging=function(e){var t=y.a.getState(),n=t.isDragging;return!!n&&(void 0===e||t.item&&t.item.id===e)},n.getDraggingItem=function(){return y.a.getState().item},n.isTmpItem=function(e){return!!e.__tmp__},n.getModel=function(){return{model:this}},n.render=function(){var e=this.props.children;return f.a.createElement(E.a.Provider,{value:this.getModel()},f.a.createElement(D.a,null,Object(h.d)(e)?e(this):e))},t}(f.a.Component);m()(I,"defaultProps",{rootId:null,axis:b.c,commitAction:b.d});var C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,m()(l()(t),"model",void 0),m()(l()(t),"saveModel",(function(e){t.model=e})),t}s()(t,e);var n=t.prototype;return n.getModel=function(){return this.model},n.render=function(){var e=this.props,t=e.backend,n=e.context,r=o()(e,["backend","context"]);return f.a.createElement(v.a,{backend:t,context:n},f.a.createElement(I,i()({},r,{ref:this.saveModel})))},t}(f.a.Component);m()(C,"defaultProps",{context:window,backend:g.a})},134:function(e,t,n){n(135),e.exports=n(191)},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=n.n(r).a.createContext({model:{}})},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(14),o=n.n(a),c=n(24),l=n(35),d=(n(16),n(57),n(22),n(58),n(59),n(6)),s=n.n(d),u=n(11),m=n.n(u),p=(n(18),n(1));function f(){return i.a.createElement(p.DropContainer,{id:"Animate"},(function(e){var t=e.items,n=(e.monitor,e.canDrop),r=e.connectDropTarget,a=[].concat(t);return a.sort((function(e,t){return e.index-t.index})),i.a.createElement("div",{ref:r,style:{position:"relative",border:n?"1px solid green":"1px solid #ccc",flex:1}},i.a.createElement("h3",null,"Animate"),i.a.createElement("hr",null),i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{style:{position:"relative"}},a.map((function(e,n){var r=function(e){for(var n=0;n<t.length;n++){if(t[n].index===e)return n}}(e.index);return i.a.createElement(p.DropItem,{key:e.id,item:e},(function(t){var n=t.connectDragAndDrop,a=t.isDragging,o=(t.isHover,t.isOver);t.isTmp;return i.a.createElement("div",{ref:n,key:e.id,id:e.id,style:{transition:"transform .2s cubic-bezier(0.2, 0, 0, 1)",position:"absolute",left:5,right:5,transform:"translate(0, "+48*r+"px)",zIndex:a?2:1,opacity:a?.5:1,padding:10,background:"#f2f2f2",border:o&&!a?"1px solid green":"1px solid #dadada"}},e.title,"(",e.id,")")}))})))))}))}function g(e){var t=e.id,n=void 0===t?null:t,r=e.title,a=e.canDrop;return i.a.createElement(p.DropContainer,{id:n,canDrop:a},(function(e){var t=e.items,n=(e.monitor,e.canDrop),a=e.connectDropTarget;return i.a.createElement("div",{ref:a,style:{border:n?"1px solid green":"1px solid #ccc",flex:1}},i.a.createElement("h3",null,r),i.a.createElement("hr",null),t.map((function(e){return i.a.createElement(p.DropItem,{key:e.id,item:e},(function(t){var n=t.connectDragAndDrop,r=t.isDragging;t.isHover,t.isOver,t.isTmp;return i.a.createElement("div",{ref:n,style:{opacity:r?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},e.title,"(",e.id,")")}))})))}))}function v(e){var t=e.title,n=e.canDrop;return i.a.createElement(p.DropContainer,{id:"parent",canDrop:n},(function(e){var n=e.items,r=(e.monitor,e.canDrop),a=e.connectDropTarget;return i.a.createElement("div",{ref:a,style:{border:r?"1px solid green":"1px solid #ccc",flex:1}},i.a.createElement("h3",null,t),i.a.createElement("hr",null),n.map((function(e){return i.a.createElement(p.DropItem,{key:e.id,item:e},(function(t){var n=t.connectDragAndDrop,r=t.isDragging;t.isHover,t.isOver,t.isTmp;return i.a.createElement("div",{ref:n,style:{opacity:r?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},e.title,"(",e.id,")")}))})),i.a.createElement(p.DropContainer,{id:"child",canDrop:function(){return!0}},(function(e){var t=e.items,n=(e.monitor,e.canDrop),r=e.connectDropTarget;return i.a.createElement("div",{ref:r,style:{height:300,overflow:"auto",border:n?"1px solid green":"1px solid #ccc",flex:1}},i.a.createElement("h3",null,"child"),i.a.createElement("hr",null),t.map((function(e){return i.a.createElement(p.DropItem,{key:e.id,item:e},(function(t){var n=t.connectDragAndDrop,r=t.isDragging;t.isHover,t.isOver,t.isTmp;return i.a.createElement("div",{ref:n,style:{opacity:r?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},e.title,"(",e.id,")")}))})))})))}))}var h=[{xtype:"EX_TEXT_FIELD",title:"\u6587\u672c"},{xtype:"EX_TEXTAREA_FIELD",title:"\u591a\u884c\u6587\u672c"},{xtype:"EX_SELECT_FIELD",title:"\u5355\u9009\u5217\u8868"},{xtype:"EX_CHECKBOX_FIELD",title:"\u590d\u9009\u6846"},{xtype:"EX_RADIO_FIELD",title:"\u5355\u9009\u6846"}];var D=1;function E(){return i.a.createElement(p.DragLayer,null,(function(e){var t=e.isDragging;m()(e,["isDragging"]);return t?i.a.createElement("div",{style:{padding:5,background:"rgba(0,0,0,.2)",position:"fixed",top:0,right:0}},"dragLayer: isDragging..."):null}))}function y(){var e=i.a.useState({items:[]}),t=s()(e,2),n=t[0],r=t[1];return i.a.createElement(p.PageDesignCore,{value:n.items,onChange:function(e){r({items:e})},onDragStart:function(e){console.log("onDragStart",e)},onDragEnd:function(e){console.log("onDragEnd",e)},onDrop:function(e){console.log("onDrop",e)}},i.a.createElement("div",{style:{display:"flex",height:"100%"}},i.a.createElement("div",{style:{width:240,flex:"none"}},h.map((function(e){return i.a.createElement(p.DragItem,{key:e.xtype,getInstance:function(){return Object.assign({},e,{id:Math.random().toString(16).slice(2,8),pid:null,index:D++})}},(function(t){var n=t.connectDragSource;return i.a.createElement("div",{ref:n,style:{height:32,lineHeight:"32px",padding:"0 20px"}},e.title)}))}))),i.a.createElement(g,{title:"A"}),i.a.createElement(g,{id:"b",title:"B"}),i.a.createElement(f,null),i.a.createElement(v,{title:"Parent"}),i.a.createElement(g,{id:"d",title:"D",canDrop:function(e){return"EX_TEXTAREA_FIELD"===e.xtype}}),i.a.createElement(E,null)))}var b=n(5),x=n.n(b),O=n(8),I=n.n(O),C=n(3),w=n.n(C),N=n(20),S=n.n(N),_=(n(181),[{xtype:"TextField",title:"\u6587\u672c"},{xtype:"TextAreaField",title:"\u591a\u884c\u6587\u672c"},{xtype:"SelectField",title:"\u5355\u9009\u5217\u8868"},{xtype:"CheckboxField",title:"\u590d\u9009\u6846"},{xtype:"RadioField",title:"\u5355\u9009\u6846"},{xtype:"GroupField",title:"\u5206\u7ec4"}]);function T(e){var t=e.widget;return i.a.createElement(p.DragItem,{getInstance:function(){return Object.assign({},t,{id:Math.random().toString(16).slice(2,8)})}},(function(e){var n=e.connectDragSource;return i.a.createElement("div",{ref:n,className:"widget-item"},t.title)}))}function j(e){var t=e.item;return i.a.createElement(p.DropItem,{item:t},(function(e){var t=e.item,n=e.connectDragAndDrop,r=e.isDragging;return i.a.createElement("div",{ref:n,className:"preview-field-wrapper"},i.a.createElement("div",{className:S()({"preview-field":!0,"is-dragging":r})},i.a.createElement("div",{className:"label"},t.title),i.a.createElement("div",{className:"control"},t.id)),"GroupField"===t.xtype?i.a.createElement(M,{item:t}):null)}))}function M(e){var t=e.item;return i.a.createElement(p.DropContainer,{id:t.id},(function(e){var t=e.items,n=e.connectDropTarget;return i.a.createElement("div",{ref:n,className:"group-field-list"},t.map((function(e){return i.a.createElement(j,{key:e.id,item:e})})))}))}var k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,w()(x()(t),"state",{items:[]}),w()(x()(t),"handleChange",(function(e){t.setState({items:e})})),w()(x()(t),"renderFieldList",(function(e){var t=e.connectDropTarget,n=e.items,r=e.model.isDragging();return i.a.createElement("div",{ref:t,className:S()({"field-list-wrapper":!0,"is-dragging-mode":r})},n.map((function(e){return i.a.createElement(j,{key:e.id,item:e})})))})),t}I()(t,e);var n=t.prototype;return n.renderLayout=function(){return i.a.createElement("div",{className:"form-designer"},i.a.createElement("div",{className:"widgets-panel"},_.map((function(e){return i.a.createElement(T,{widget:e,key:e.xtype})}))),i.a.createElement("div",{className:"designer-container"},i.a.createElement(p.DropContainer,{id:null},this.renderFieldList)))},n.render=function(){var e=this.state.items;return i.a.createElement(p.PageDesignCore,{value:e,onChange:this.handleChange,ref:function(e){return window.p=e}},this.renderLayout())},t}(i.a.Component),A=(n(182),[{xtype:"TextField",title:"\u6587\u672c"},{xtype:"TextAreaField",title:"\u591a\u884c\u6587\u672c"},{xtype:"SelectField",title:"\u5355\u9009\u5217\u8868"},{xtype:"CheckboxField",title:"\u590d\u9009\u6846"},{xtype:"RadioField",title:"\u5355\u9009\u6846"},{xtype:"GroupField",title:"\u5206\u7ec4"}]);function P(e){var t=e.widget;return i.a.createElement(p.DragItem,{getInstance:function(){return Object.assign({},t,{id:Math.random().toString(16).slice(2,8)})}},(function(e){var n=e.connectDragSource;return i.a.createElement("div",{ref:n,className:"widget-item"},t.title)}))}function F(e){var t=e.item;return i.a.createElement(p.DropItem,{item:t},(function(e){var t=e.item,n=e.connectDragAndDrop,r=e.isDragging;return i.a.createElement("div",{ref:n,className:"preview-field-wrapper"},i.a.createElement("div",{className:S()({"preview-field":!0,"is-dragging":r})},i.a.createElement("div",{className:"label"},t.title),i.a.createElement("div",{className:"control"},t.id)),"GroupField"===t.xtype?i.a.createElement(R,{item:t}):null)}))}function R(e){var t=e.item;return i.a.createElement(p.DropContainer,{id:t.id},(function(e){var t=e.items,n=e.connectDropTarget;return i.a.createElement("div",{ref:n,className:"group-field-list"},t.map((function(e){return i.a.createElement(F,{key:e.id,item:e})})))}))}for(var L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,w()(x()(t),"state",{items:[]}),w()(x()(t),"handleChange",(function(e){t.setState({items:e})})),w()(x()(t),"renderFieldList",(function(e){var t=e.connectDropTarget,n=e.items,r=e.model.isDragging();return i.a.createElement("div",{ref:t,className:S()({"field-list-wrapper":!0,"is-dragging-mode":r})},n.map((function(e){return i.a.createElement(F,{key:e.id,item:e})})))})),t}I()(t,e);var n=t.prototype;return n.renderLayout=function(){return i.a.createElement("div",{className:"form-designer"},i.a.createElement("div",{className:"widgets-panel"},A.map((function(e){return i.a.createElement(P,{widget:e,key:e.xtype})}))),i.a.createElement("div",{className:"designer-container"},i.a.createElement(p.DropContainer,{id:null},this.renderFieldList)))},n.render=function(){this.state.items;return"comming soon..."},t}(i.a.Component),H=[],z=0;z<20;z++)H.push({id:z+1,title:z+1+". item"});function B(e){var t=e.item;return i.a.createElement(p.DropItem,{item:t},(function(e){var n=e.connectDragAndDrop,r=e.isDragging;return i.a.createElement("div",{ref:n,style:{opacity:r?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},t.title)}))}for(var X=function(){var e=i.a.useState(H),t=s()(e,2),n=t[0],r=t[1];return i.a.createElement(p.PageDesignCore,{value:n,onChange:r},i.a.createElement(p.DropContainer,null,(function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return i.a.createElement("div",{ref:n,style:{border:"1px solid #ccc",borderRadius:4,padding:5,width:270,margin:"30px auto",height:"80%",overflow:"auto"}},t.map((function(e){return i.a.createElement(B,{key:e.id,item:e})})))})))},U=[],G=0;G<20;G++)U.push({id:G+1,title:G+1+". item"});function J(e){var t=e.item,n=e.index;return i.a.createElement(p.DropItem,{item:t},(function(e){var r=e.connectDragAndDrop,a=e.isDragging;return i.a.createElement("div",{ref:r,style:{position:"absolute",transition:"transform .2s cubic-bezier(0.2, 0, 0, 1)",left:5,right:5,transform:"translate(0, "+48*n+"px)",zIndex:a?2:1,opacity:a?.5:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},t.title)}))}function W(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget),r=[].concat(t);r.sort((function(e,t){return e.id-t.id}));var a=function(e){for(var n=0;n<t.length;n++){if(t[n].id===e.id)return n}};return i.a.createElement("div",{ref:n,style:{position:"relative",border:"1px solid #ccc",borderRadius:4,padding:5,width:270,margin:"30px auto",height:"80%",overflow:"auto"}},r.map((function(e){return i.a.createElement(J,{key:e.id,index:a(e),item:e})})))}for(var Z=function(){var e=i.a.useState(U),t=s()(e,2),n=t[0],r=t[1];return i.a.createElement(p.PageDesignCore,{value:n,onChange:r},i.a.createElement(p.DropContainer,null,W))},K=n(29),V=n.n(K),q=[],Q=0;Q<5;Q++)q.push({pid:"a",id:Q+1,title:Q+1+". item"});for(var Y=5;Y<20;Y++)q.push({pid:"b",id:Y+1,title:Y+1+". item"});function $(e){var t=e.item;return i.a.createElement(p.DropItem,{item:t},(function(e){var n=e.connectDragAndDrop,r=e.connectDragPreview,a=e.isDragging;return r(Object(p.getEmptyImage)()),i.a.createElement("div",{ref:n,style:{opacity:a?.4:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"}},t.title)}))}function ee(e){var t=e.dom,n=e.differenceFromInitialOffset,r=i.a.useState(null),a=s()(r,2),o=a[0],c=a[1];if(i.a.useEffect((function(){var e=t.cloneNode(!0),n=t.getBoundingClientRect();return c({rect:n,cloneNode:e}),e.style.position="fixed",e.style.pointerEvents="none",e.style.opacity=1,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.boxSizing="border-box",e.style.width=n.width+"px",e.style.height=n.height+"px",document.body.appendChild(e),function(){document.body.removeChild(e)}}),[t]),o){var l=o.cloneNode,d=o.rect;n&&(l.style.left=d.left+n.x+"px",l.style.top=d.top+n.y+"px")}return null}for(var te=function(){var e=i.a.useState(q),t=s()(e,2),n=t[0],r=t[1];return i.a.createElement(p.PageDesignCore,{value:n,onChange:r},i.a.createElement("div",{style:{position:"relative",display:"flex",margin:"30px auto",height:"80%",width:600}},i.a.createElement(p.DropContainer,{id:"a"},(function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return i.a.createElement("div",{ref:n,style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto"}},t.map((function(e){return i.a.createElement($,{key:e.id,item:e})})))})),i.a.createElement("div",{style:{width:20}}),i.a.createElement(p.DropContainer,{id:"b"},(function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return i.a.createElement("div",{ref:n,style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto"}},t.map((function(e){return i.a.createElement($,{key:e.id,item:e})})))})),i.a.createElement(p.DragLayer,null,(function(e){var t=e.isDragging,n=e.dom,r=m()(e,["isDragging","dom"]);return t&&n?i.a.createElement(ee,V()({dom:n},r)):null}))))},ne=[],re=0;re<20;re++)ne.push({pid:"nostart",id:re+1,title:re+1+". item"});var ie=i.a.memo((function(e){var t=e.item;return i.a.createElement(p.DropItem,{item:t},(function(e){var n=e.connectDragAndDrop,r=e.connectDragPreview,a=e.isDragging,o=e.hoverDirection;r(Object(p.getEmptyImage)());var c={};return"up"===o&&(c.borderTop="1px solid red",c.borderBottom="1px solid  #dadada"),"down"===o&&(c.borderTop="1px solid #dadada",c.borderBottom="1px solid red"),"none"===o&&(c.borderTop="1px solid #dadada",c.borderBottom="1px solid #dadada"),i.a.createElement("div",{ref:n,style:Object.assign({opacity:a?.4:1,padding:10,margin:5,background:"#f2f2f2",border:"1px solid #dadada"},c)},t.title)}))}));function ae(e){var t=e.dom,n=e.differenceFromInitialOffset,r=i.a.useState(null),a=s()(r,2),o=a[0],c=a[1];if(i.a.useEffect((function(){var e=t.cloneNode(!0),n=t.getBoundingClientRect();return c({rect:n,cloneNode:e}),e.style.position="fixed",e.style.pointerEvents="none",e.style.opacity=.7,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.boxSizing="border-box",e.style.width=n.width+"px",e.style.height=n.height+"px",document.body.appendChild(e),function(){document.body.removeChild(e)}}),[t]),o){var l=o.cloneNode,d=o.rect;n&&(l.style.left=d.left+n.x+"px",l.style.top=d.top+n.y+"px")}return null}var oe=function(){var e=i.a.useState(ne),t=s()(e,2),n=t[0],r=t[1];return i.a.createElement(p.PageDesignCore,{value:n,onChange:r,commitAction:"drop"},i.a.createElement("div",{style:{position:"relative",display:"flex",margin:"30px auto",height:"80%",width:800}},i.a.createElement(p.DropContainer,{id:"nostart"},(function(e){var t=e.items,n=(e.monitor,e.canDrop,e.connectDropTarget);return i.a.createElement("div",{style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto",display:"flex",flexDirection:"column"}},i.a.createElement("div",null,"\u672a\u5f00\u59cb"),i.a.createElement("div",{ref:n,style:{flex:"1"}},t.map((function(e){return i.a.createElement(ie,{key:e.id,item:e})}))))})),i.a.createElement("div",{style:{width:20}}),i.a.createElement(p.DropContainer,{id:"pending"},(function(e){var t=e.items,n=(e.monitor,e.canDrop),r=e.connectDropTarget;return i.a.createElement("div",{style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto",display:"flex",flexDirection:"column"}},i.a.createElement("div",null,"\u5904\u7406\u4e2d"),i.a.createElement("div",{ref:r,style:{flex:"1",backgroundColor:n?"#eef9f3":""}},t.map((function(e){return i.a.createElement(ie,{key:e.id,item:e})}))))})),i.a.createElement("div",{style:{width:20}}),i.a.createElement(p.DropContainer,{id:"done"},(function(e){var t=e.items,n=(e.monitor,e.canDrop),r=e.connectDropTarget;return i.a.createElement("div",{style:{flex:"1",border:"1px solid #ccc",borderRadius:4,padding:5,overflow:"auto",display:"flex",flexDirection:"column"}},i.a.createElement("div",null,"\u5df2\u5b8c\u6210"),i.a.createElement("div",{ref:r,style:{flex:"1",backgroundColor:n?"#eef9f3":""}},t.map((function(e){return i.a.createElement(ie,{key:e.id,item:e})}))))})),i.a.createElement(p.DragLayer,null,(function(e){var t=e.isDragging,n=e.dom,r=m()(e,["isDragging","dom"]);return t&&n?i.a.createElement(ae,V()({dom:n},r)):null}))))},ce=(n(87),n(89),[{title:"\u65e5\u671f",type:"date",name:"crated_date"},{title:"\u8ba2\u5355\u6765\u6e90",type:"string",name:"order_from"},{title:"\u7528\u6237\u6ce8\u518c\u6765\u6e90",type:"string",name:"register_from"},{title:"\u8ba2\u5355\u5730\u533a",type:"string",name:"order_area"},{title:"\u652f\u4ed8\u8ba2\u5355\u91cf",type:"number",name:"order_pay_total"},{title:"\u88ab\u6295\u8bc9\u8ba2\u5355\u91cf",type:"number",name:"order_complaint_total"},{title:"\u53d6\u6d88\u8ba2\u5355\u91cf",type:"number",name:"order_cancel_total"}]);function le(e){var t=e.dom,n=e.differenceFromInitialOffset,r=i.a.useState(null),a=s()(r,2),o=a[0],c=a[1];if(i.a.useEffect((function(){var e=t.cloneNode(!0),n=t.getBoundingClientRect();return c({rect:n,cloneNode:e}),e.style.position="fixed",e.style.pointerEvents="none",e.style.opacity=.7,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.boxSizing="border-box",e.style.width=n.width+"px",e.style.height=n.height+"px",e.style.padding="5px 10px",e.style.lineHeight="20px",e.style.fontSize="12px",e.style.cursor="default",document.body.appendChild(e),function(){document.body.removeChild(e)}}),[t]),o){var l=o.cloneNode,d=o.rect;n&&(l.style.left=d.left+n.x+"px",l.style.top=d.top+n.y+"px")}return null}n(183);var de=1;function se(e){var t=e.field;return i.a.createElement(p.DragItem,{getInstance:function(){return Object.assign({},t,{id:de++})}},(function(e){var n=e.connectDragSource;return(0,e.connectDragPreview)(Object(p.getEmptyImage)()),i.a.createElement("div",{className:"field-item",ref:n},t.title)}))}function ue(e){var t=e.id,n=i.a.useCallback((function(e){var n=e.item,r=e.model;if("value"===t)return!0;var i=[].concat(r.getChildren("column"),r.getChildren("row")),a=i.map((function(e){return e.name}));return-1!==i.map((function(e){return e.id})).indexOf(n.id)||-1===a.indexOf(n.name)}),[t]);return i.a.createElement(p.DropContainer,{id:t,canDrop:n,axis:"horizontal"},(function(e){var r=e.items,a=e.connectDropTarget,o=e.canDrop,c=e.isStrictlyOver;return i.a.createElement("div",{ref:a,className:S()({"field-drop-list":!0,"can-drop":o,"is-over":o&&c})},r.map((function(e){return i.a.createElement(p.DropItem,{canDrop:n,item:e,key:e.id},(function(n){var r=n.isDragging,a=n.connectDropTarget,o=n.connectDragSource,c=n.connectDragPreview,l=n.model,d=n.hoverDirection;return c(Object(p.getEmptyImage)()),i.a.createElement("div",{style:{opacity:r?.5:1},className:"field-drop-item hover-dir-"+d,ref:a},i.a.createElement("div",{className:"field-drop-item-inner",ref:o},e.title,"value"===t&&"number"===e.type?"(\u6c42\u548c)":"","value"===t&&"number"!==e.type?"(\u8ba1\u6570)":""," ",i.a.createElement("span",{className:"item-close",onClick:function(){l.removeItem(e.id)}},"x")))}))})))}))}var me=function(){var e=i.a.useState([]),t=s()(e,2),n=t[0],r=t[1];return i.a.createElement(p.PageDesignCore,{value:n,commitAction:"drop",onChange:r},i.a.createElement(p.DropZone,null,i.a.createElement("div",{className:"pivot-container",style:{position:"relative",display:"flex",margin:"30px auto",height:"80%",width:888}},i.a.createElement("div",{className:"pivot-field-list"},i.a.createElement("div",{className:"list-header"},"\u5b57\u6bb5\u5217\u8868"),i.a.createElement("div",{className:"list-wrapper"},ce.map((function(e){return i.a.createElement(se,{field:e,key:e.name})})))),i.a.createElement("div",{className:"pivot-field-result"},i.a.createElement("div",{className:"result-drop"},i.a.createElement("div",{className:"drop-row-wrapper"},i.a.createElement("div",{className:"drop-field-label"},"\u5217"),i.a.createElement("div",{className:"drop-field-list"},i.a.createElement(ue,{id:"column"}))),i.a.createElement("div",{className:"drop-column-wrapper"},i.a.createElement("div",{className:"drop-field-label"},"\u884c"),i.a.createElement("div",{className:"drop-field-list"},i.a.createElement(ue,{id:"row"}))),i.a.createElement("div",{className:"drop-value-wrapper"},i.a.createElement("div",{className:"drop-field-label"},"\u503c"),i.a.createElement("div",{className:"drop-field-list"},i.a.createElement(ue,{id:"value"})))),i.a.createElement("div",{className:"result-data"},i.a.createElement("pre",null,JSON.stringify(n,null,2)))),i.a.createElement(p.DragLayer,null,(function(e){var t=e.isDragging,n=e.dom,r=m()(e,["isDragging","dom"]);return t&&n?i.a.createElement(le,V()({dom:n},r)):null})))))},pe=(n(86),[{title:"\u65e5\u671f",type:"date",name:"crated_date"},{title:"\u8ba2\u5355\u6765\u6e90",type:"string",name:"order_from"},{title:"\u7528\u6237\u6ce8\u518c\u6765\u6e90",type:"string",name:"register_from"},{title:"\u8ba2\u5355\u5730\u533a",type:"string",name:"order_area"},{title:"\u652f\u4ed8\u8ba2\u5355\u91cf",type:"number",name:"order_pay_total"},{title:"\u88ab\u6295\u8bc9\u8ba2\u5355\u91cf",type:"number",name:"order_complaint_total"},{title:"\u53d6\u6d88\u8ba2\u5355\u91cf",type:"number",name:"order_cancel_total"}]);function fe(e){var t=e.dom,n=e.differenceFromInitialOffset,r=i.a.useState(null),a=s()(r,2),o=a[0],c=a[1];if(i.a.useEffect((function(){var e=t.cloneNode(!0),n=t.getBoundingClientRect();return c({rect:n,cloneNode:e}),e.style.position="fixed",e.style.pointerEvents="none",e.style.opacity=.7,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style.boxSizing="border-box",e.style.width=n.width+"px",e.style.height=n.height+"px",e.style.padding="5px 10px",e.style.lineHeight="20px",e.style.fontSize="12px",e.style.cursor="default",document.body.appendChild(e),function(){document.body.removeChild(e)}}),[t]),o){var l=o.cloneNode,d=o.rect;n&&(l.style.left=d.left+n.x+"px",l.style.top=d.top+n.y+"px")}return null}n(184);var ge=1;function ve(e){var t=e.field;return i.a.createElement(p.DragItem,{getInstance:function(){return Object.assign({},t,{id:ge++})}},(function(e){var n=e.connectDragSource;return(0,e.connectDragPreview)(Object(p.getEmptyImage)()),i.a.createElement("div",{className:"field-item",ref:n},t.title)}))}function he(e){var t=e.id,n=i.a.useCallback((function(e){var n=e.item,r=e.model;if("\u2211"===n.id&&("value"===t||"filter"===t))return!1;if("value"===t)return!0;var i="filter"===t?r.getChildren("filter"):[].concat(r.getChildren("column"),r.getChildren("row")),a=i.map((function(e){return e.name}));return-1!==i.map((function(e){return e.id})).indexOf(n.id)||-1===a.indexOf(n.name)}),[t]);return i.a.createElement(p.DropContainer,{id:t,canDrop:n},(function(e){var r=e.items,a=e.connectDropTarget,o=e.canDrop,c=e.isStrictlyOver;e.model;return i.a.createElement("div",{ref:a,className:S()({"field-drop-list":!0,"can-drop":o,"is-over":o&&c})},r.map((function(e){return i.a.createElement(p.DropItem,{canDrop:n,item:e,key:e.id},(function(n){var r=n.isDragging,a=n.connectDropTarget,o=n.connectDragSource,c=n.connectDragPreview,l=n.model,d=n.hoverDirection;return c(Object(p.getEmptyImage)()),i.a.createElement("div",{style:{opacity:r?.5:1},className:"field-drop-item hover-dir-"+d,ref:a},i.a.createElement("div",{className:"field-drop-item-inner",ref:o},e.title,"value"===t&&"number"===e.type?"(\u6c42\u548c)":"","value"===t&&"number"!==e.type?"(\u8ba1\u6570)":""," ","\u2211"===e.id?null:i.a.createElement("span",{className:"item-close",onClick:function(){l.removeItem(e.id)}},"x")))}))})))}))}var De={id:"\u2211",title:"\u2211\u6570\u503c",name:"\u2211Values",type:"number",pid:"column"},Ee=function(){var e=i.a.useState([]),t=s()(e,2),n=t[0],r=t[1],a=i.a.useCallback((function(e){var t=e.filter((function(e){return"value"===e.pid})).length>1,n=e.filter((function(e){return"\u2211"===e.id}));t?n.length||e.push(Object.assign({},De)):e=e.filter((function(e){return"\u2211"!==e.id})),r(e)}),[n]);return i.a.createElement(p.PageDesignCore,{value:n,commitAction:"drop",onChange:a},i.a.createElement(p.DropZone,null,i.a.createElement("div",{className:"pivot-container-02",style:{position:"relative",display:"flex",margin:"30px auto",height:"80%",width:888}},i.a.createElement("div",{className:"pivot-field-list"},i.a.createElement("div",{className:"list-header"},"\u5b57\u6bb5\u5217\u8868"),i.a.createElement("div",{className:"list-wrapper"},pe.map((function(e){return i.a.createElement(ve,{field:e,key:e.name})})))),i.a.createElement("div",{className:"pivot-field-result"},i.a.createElement("div",{className:"result-drop"},i.a.createElement("div",{className:"drop-column-wrapper"},i.a.createElement("div",{className:"drop-field-label"},"\u7b5b\u9009"),i.a.createElement("div",{className:"drop-field-list"},i.a.createElement(he,{id:"filter"}))),i.a.createElement("div",{className:"drop-row-wrapper"},i.a.createElement("div",{className:"drop-field-label"},"\u5217"),i.a.createElement("div",{className:"drop-field-list"},i.a.createElement(he,{id:"row"}))),i.a.createElement("div",{className:"drop-column-wrapper"},i.a.createElement("div",{className:"drop-field-label"},"\u884c"),i.a.createElement("div",{className:"drop-field-list"},i.a.createElement(he,{id:"column"}))),i.a.createElement("div",{className:"drop-value-wrapper"},i.a.createElement("div",{className:"drop-field-label"},"\u503c"),i.a.createElement("div",{className:"drop-field-list"},i.a.createElement(he,{id:"value"})))),i.a.createElement("div",{className:"result-data"},i.a.createElement("pre",null,JSON.stringify(n,null,2)))),i.a.createElement(p.DragLayer,null,(function(e){var t=e.isDragging,n=e.dom,r=m()(e,["isDragging","dom"]);return t&&n?i.a.createElement(fe,V()({dom:n},r)):null})))))},ye=n(45),be=n(93),xe=(n(185),1);function Oe(e){var t=e.onChange,n=Object(p.useModel)(),r=Object(be.a)({accept:[ye.b.FILE],drop:function(e,n){var r=e.files.map((function(e){return{pid:null,id:xe++,name:e.name,size:e.size}}));t&&t(r),console.log(e)},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),a=s()(r,2),o=a[0],c=o.canDrop,l=o.isOver,d=a[1],u=c&&l,m=n.getChildren(null);return i.a.createElement("div",{ref:d,className:S()({"files-list":!0,"drag-over":u})},m.map((function(e){return i.a.createElement(Ie,{key:e.id,file:e})})))}function Ie(e){var t=e.file,n=Object(p.useModel)();return i.a.createElement(p.DropItem,{item:t},(function(e){var r=e.connectDragAndDrop,a=e.isDragging,o=n.isDragging();return i.a.createElement("div",{className:"file-item "+(o?"is-dragging":""),ref:r,style:{backgroundColor:a?"cornsilk":"",opacity:a?.5:1,padding:10,borderBottom:"1px solid #ccc"}},t.name," - ",t.size)}))}var Ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,w()(x()(t),"state",{files:[]}),w()(x()(t),"renderDropContainer",(function(e){e.items;var t=e.monitor,n=e.connectDropTarget,r=m()(e,["items","monitor","connectDropTarget"]),a=t.getItem();return a&&console.log(r,a),i.a.createElement("div",{ref:n,className:S()({"files-list":!0,"drag-over":t.isOver()})})})),w()(x()(t),"handleChange",(function(e){var n=t.state.files;t.setState({files:[].concat(n,e)})})),w()(x()(t),"handleSort",(function(e){t.setState({files:e})})),t}return I()(t,e),t.prototype.render=function(){var e=this.state.files;return i.a.createElement("div",{className:"native-files-panel"},i.a.createElement("h3",null,"Drag file here"),i.a.createElement(p.PageDesignCore,{value:e,onChange:this.handleSort},i.a.createElement(Oe,{onChange:this.handleChange})))},t}(i.a.Component),we=(n(186),function(){return i.a.createElement(c.a,null,i.a.createElement("div",{className:"app-demo"},i.a.createElement("div",{className:"left-nav"},i.a.createElement(c.b,{to:"/form-designer"},"\u8868\u5355\u8bbe\u8ba1\u5668"),i.a.createElement(c.b,{to:"/page-designer"},"\u9875\u9762\u8bbe\u8ba1\u5668"),i.a.createElement(c.b,{to:"/todo-list"},"TodoList"),i.a.createElement(c.b,{to:"/pivot-table-01"},"\u591a\u7ef4\u5206\u6790"),i.a.createElement(c.b,{to:"/pivot-table-02"},"\u6570\u636e\u900f\u89c6"),i.a.createElement(c.b,{to:"/sort-list"},"\u5217\u8868\u6392\u5e8f"),i.a.createElement(c.b,{to:"/sort-list-animation"},"\u5217\u8868\u6392\u5e8f(\u52a8\u753b)"),i.a.createElement(c.b,{to:"/drag-layer"},"\u81ea\u5b9a\u4e49\u62d6\u62fd\u5c42"),i.a.createElement(c.b,{to:"/native-files"},"\u672c\u5730\u6587\u4ef6"),i.a.createElement(c.b,{to:"/others"},"\u5176\u4ed6")),i.a.createElement("div",{className:"container"},i.a.createElement(l.d,null,i.a.createElement(l.b,{path:"/",exact:!0,render:function(){return i.a.createElement(l.a,{to:"/form-designer"})}}),i.a.createElement(l.b,{path:"/form-designer",component:k}),i.a.createElement(l.b,{path:"/page-designer",component:L}),i.a.createElement(l.b,{path:"/others",component:y}),i.a.createElement(l.b,{path:"/sort-list",component:X}),i.a.createElement(l.b,{path:"/todo-list",component:oe}),i.a.createElement(l.b,{path:"/sort-list-animation",component:Z}),i.a.createElement(l.b,{path:"/drag-layer",component:te}),i.a.createElement(l.b,{path:"/pivot-table-01",component:me}),i.a.createElement(l.b,{path:"/pivot-table-02",component:Ee}),i.a.createElement(l.b,{path:"/native-files",component:Ce})))))});o.a.render(i.a.createElement(we,null),document.getElementById("root"))},4:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"j",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r="add",i="sort",a="up",o="down",c="left",l="right",d="none",s="auto",u="drop",m="vertical",p="horizontal",f="both"},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n(18);var r=n(6),i=n.n(r),a=n(5),o=n.n(a),c=n(8),l=n.n(c),d=n(3),s=n.n(d),u=n(0),m=n.n(u),p=n(14),f=n(33),g=n.n(f),v=n(93),h=n(17),D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,s()(o()(t),"context",void 0),s()(o()(t),"_connectDropTarget",void 0),t}l()(t,e);var n=t.prototype;return n.connectDropTarget=function(){var e=Object(p.findDOMNode)(this);this._connectDropTarget(e)},n.componentDidMount=function(){this.connectDropTarget()},n.componentDidUpdate=function(){this.connectDropTarget()},n.componentWillUnmount=function(){this._connectDropTarget(null)},n.getDropOptions=function(){return{accept:this.context.model.getScope()}},n.render=function(){var e=Object(v.a)(this.getDropOptions()),t=i()(e,2)[1];return this._connectDropTarget=t,this.props.children},t}(m.a.Component);s()(D,"contextType",h.a);var E=g()(D)},7:function(e,t,n){"use strict";n(22);var r={item:null,isNew:!1,canDrop:!0,hoverContainerId:null,hoverItem:null,hoverDirection:"none",dragDOMIsRemove:!1,isDragging:!1,currentDragDOM:null,dragDOM:null};function i(e){r=Object.assign({},r,e)}t.a={setState:i,getState:function(){return r},reset:function(){i({item:null,isNew:!1,canDrop:!0,hoverContainerId:null,hoverItem:null,hoverDirection:"none",dragDOMIsRemove:!1,isDragging:!1,currentDragDOM:null,dragDOM:null})}}},9:function(e,t,n){"use strict";function r(e,t,n,r,i,a){var o=((t+r)*i-t*i+t*(e+n)-(t+r)*e)/(e+n-e),c=(t*i-(t+r)*i+(t+r)*(e+n)-t*e)/(e+n-e);if(a<o&&a<c)return 1;if(a>o&&a>c)return 2;if(a>o&&a<c)return 3;if(a<o&&a>c)return 4;var l=e+n/2,d=t+r/2;return i>l&&a<d?1:i>l&&a>d?2:i<l&&a<d?1:i<l&&a>d?2:-1}function i(e,t,n,i,a,o){var c=r(e,t,n,i,a,o),l="down";return 1===c?l="up":2===c?l="down":3===c?l="left":4===c&&(l="right"),l}function a(e){return document.body.contains(e)}function o(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function c(e,t){if(null==e)throw new TypeError('"this" is null or not defined');var n=Object(e),r=n.length>>>0;if("function"!==typeof t)throw new TypeError("predicate must be a function");for(var i=0;i<r;){if(t(n[i],i,n))return i;i++}return-1}function l(e,t){return e[c(e,t)]}function d(e){return"function"===typeof e}n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d}))}},[[134,1,2]]]);